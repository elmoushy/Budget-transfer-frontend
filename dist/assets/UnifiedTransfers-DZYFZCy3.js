import{c as Ae,d as ae,r,u as ee,y as D,w as J,e as f,h as F,G as x,f as e,t,b as re,H as ve,n as A,m as z,Q as fe,p as O,F as X,s as p,_ as oe,C as _e,o as Oe,T as Ct,I as Je,x as Q,a as Y,J as Dt,z as Tt,k as Be,v as Mt,K as Pt,i as Rt,L as At,M as Et,N as Ne}from"./index-Dm8_8feR.js";import{u as St}from"./navigationStore-BDVsjGTx.js";import{a as he}from"./apiService-BixuDZ78.js";import{F as ie,I as qt}from"./FuturisticPopup-CgsDVxyE.js";import{t as Re}from"./TransferService-CK9pF5LQ.js";import{S as Ft,T as xt}from"./trash-DWhzNBaz.js";import"./check-BvLeqS8X.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jt=Ae("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=Ae("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Le=Ae("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),It={class:"modal-header"},Bt={class:"modal-body"},Nt={class:"form-group"},Lt={for:"timePeriod",class:"required"},Ut={class:"select-wrapper"},zt={value:"",disabled:""},Ot={value:"Jan"},Jt={value:"Feb"},Ht={value:"Mar"},Gt={value:"Apr"},Wt={value:"May"},Kt={value:"Jun"},Qt={value:"Jul"},Zt={value:"Aug"},Yt={value:"Sep"},Xt={value:"Oct"},ea={value:"Nov"},ta={value:"Dec"},aa={class:"form-group"},oa={for:"transferReason",class:"required"},sa={key:0,class:"error-message"},na={class:"modal-footer"},la=ae({__name:"NewRequestModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:y}){const o=u,$=y,n=r("<p>Enter your reason here...</p>"),h=r(!1),l=r({timePeriod:"",transferReason:""}),E=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:E}},C=ee(),a=D(()=>C.language==="ar"),j=D(()=>C.darkMode),i=r(!1),_=r("info"),b=r(""),M=r("");function P(){R(),$("update:modelValue",!1)}function R(){l.value={timePeriod:"",transferReason:""},n.value="<p>Enter your reason here...</p>",h.value=!1}async function S(){const k=n.value==="<p>Enter your reason here...</p>"||n.value==="<p><br></p>"||n.value==="";if(!l.value.timePeriod||k){k&&(h.value=!0),_.value="warning",b.value=a.value?"تنبيه!":"Warning!",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",i.value=!0;return}h.value=!1;try{const v={transaction_date:l.value.timePeriod,notes:n.value,type:"FAR"},m=await he.transfers.createTransfer(v);$("submit",m.data),P()}catch(v){console.error("Error creating transfer request:",v),_.value="error",b.value=a.value?"خطأ!":"Error!",M.value=a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request",i.value=!0}}return J(()=>o.modelValue,k=>{k&&R()}),(k,v)=>(p(),f(X,null,[u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:P},[e("div",{class:A(["modal-container",{"dark-mode":j.value}]),onClick:v[2]||(v[2]=O(()=>{},["stop"]))},[e("div",It,[e("h2",null,t(a.value?"طلب مناقلة جديد":"New Transfer Request"),1),e("button",{class:"close-modal",onClick:P},"×")]),e("div",Bt,[e("div",Nt,[e("label",Lt,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",Ut,[re(e("select",{id:"timePeriod","onUpdate:modelValue":v[0]||(v[0]=m=>l.value.timePeriod=m),required:""},[e("option",zt,t(a.value?"اختر فترة":"Select period"),1),e("option",Ot,t(a.value?"يناير":"January"),1),e("option",Jt,t(a.value?"فبراير":"February"),1),e("option",Ht,t(a.value?"مارس":"March"),1),e("option",Gt,t(a.value?"أبريل":"April"),1),e("option",Wt,t(a.value?"مايو":"May"),1),e("option",Kt,t(a.value?"يونيو":"June"),1),e("option",Qt,t(a.value?"يوليو":"July"),1),e("option",Zt,t(a.value?"أغسطس":"August"),1),e("option",Yt,t(a.value?"سبتمبر":"September"),1),e("option",Xt,t(a.value?"أكتوبر":"October"),1),e("option",ea,t(a.value?"نوفمبر":"November"),1),e("option",ta,t(a.value?"ديسمبر":"December"),1)],512),[[ve,l.value.timePeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",aa,[e("label",oa,t(a.value?"سبب المناقلة":"Reason for Transfer"),1),x(z(fe),{content:n.value,"onUpdate:content":v[1]||(v[1]=m=>n.value=m),toolbar:E,contentType:"html",theme:"snow",options:w,class:A(["transfer-editor",{"editor-error":h.value}])},null,8,["content","class"]),h.value?(p(),f("div",sa,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",na,[e("button",{class:"btn-secondary",onClick:P},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:S},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),x(ie,{show:i.value,"onUpdate:show":v[3]||(v[3]=m=>i.value=m),type:_.value,title:b.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),Ue=oe(la,[["__scopeId","data-v-60a1c7bf"]]),ra={class:"modal-header"},ia={class:"modal-body"},ua={class:"form-group"},ca={for:"timePeriod",class:"required"},da={class:"select-wrapper"},va={value:"",disabled:""},pa={value:"Jan"},fa={value:"Feb"},ha={value:"Mar"},ma={value:"Apr"},_a={value:"May"},ba={value:"Jun"},ga={value:"Jul"},ya={value:"Aug"},$a={value:"Sep"},ka={value:"Oct"},wa={value:"Nov"},Ca={value:"Dec"},Da={class:"form-group"},Ta={for:"enhancementReason",class:"required"},Ma={key:0,class:"error-message"},Pa={class:"modal-footer"},Ra=ae({__name:"EnhancementsRequestModel",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:y}){const o=u,$=y,n=r("<p>Enter your reason here...</p>"),h=r(!1),l=r({timePeriod:"",enhancementReason:""}),E=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:E}},C=ee(),a=D(()=>C.language==="ar"),j=D(()=>C.darkMode),i=r(!1),_=r("info"),b=r(""),M=r("");function P(){_.value="warning",b.value=a.value?"تحقق من البيانات":"Validation Error",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",i.value=!0}function R(m){console.error("Error creating enhancement request:",m),_.value="error",b.value=a.value?"خطأ!":"Error!",M.value=a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request",i.value=!0}function S(){k(),$("update:modelValue",!1)}function k(){l.value={timePeriod:"",enhancementReason:""},n.value="<p></p>",h.value=!1}async function v(){const m=n.value==="<p></p>"||n.value==="<p><br></p>"||n.value==="";if(!l.value.timePeriod||m){m&&(h.value=!0),P();return}h.value=!1;try{const T={transaction_date:l.value.timePeriod,notes:n.value,type:"AFR"},B=await he.transfers.createTransfer(T);$("submit",B),S()}catch(T){R(T)}}return J(()=>o.modelValue,m=>{m&&k()}),(m,T)=>(p(),f(X,null,[u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:S},[e("div",{class:A(["modal-container",{"dark-mode":j.value}]),onClick:T[2]||(T[2]=O(()=>{},["stop"]))},[e("div",ra,[e("h2",null,t(a.value?"طلب تعزيز جديد":"New Enhancement Request"),1),e("button",{class:"close-modal",onClick:S},"×")]),e("div",ia,[e("div",ua,[e("label",ca,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",da,[re(e("select",{id:"timePeriod","onUpdate:modelValue":T[0]||(T[0]=B=>l.value.timePeriod=B),required:""},[e("option",va,t(a.value?"اختر فترة":"Select period"),1),e("option",pa,t(a.value?"يناير":"January"),1),e("option",fa,t(a.value?"فبراير":"February"),1),e("option",ha,t(a.value?"مارس":"March"),1),e("option",ma,t(a.value?"أبريل":"April"),1),e("option",_a,t(a.value?"مايو":"May"),1),e("option",ba,t(a.value?"يونيو":"June"),1),e("option",ga,t(a.value?"يوليو":"July"),1),e("option",ya,t(a.value?"أغسطس":"August"),1),e("option",$a,t(a.value?"سبتمبر":"September"),1),e("option",ka,t(a.value?"أكتوبر":"October"),1),e("option",wa,t(a.value?"نوفمبر":"November"),1),e("option",Ca,t(a.value?"ديسمبر":"December"),1)],512),[[ve,l.value.timePeriod]]),T[4]||(T[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",Da,[e("label",Ta,t(a.value?"سبب التعزيز":"Reason for Enhancement"),1),x(z(fe),{content:n.value,"onUpdate:content":T[1]||(T[1]=B=>n.value=B),toolbar:E,contentType:"html",theme:"snow",options:w,class:A(["transfer-editor",{"editor-error":h.value}])},null,8,["content","class"]),h.value?(p(),f("div",Ma,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Pa,[e("button",{class:"btn-secondary",onClick:S},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:v},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),x(ie,{show:i.value,"onUpdate:show":T[3]||(T[3]=B=>i.value=B),type:_.value,title:b.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),Aa=oe(Ra,[["__scopeId","data-v-541acc7f"]]),Ea={class:"modal-header"},Sa={class:"modal-body"},qa={class:"form-group"},Fa={for:"timePeriod",class:"required"},xa={class:"select-wrapper"},ja={value:"",disabled:""},Va={value:"Jan"},Ia={value:"Feb"},Ba={value:"Mar"},Na={value:"Apr"},La={value:"May"},Ua={value:"Jun"},za={value:"Jul"},Oa={value:"Aug"},Ja={value:"Sep"},Ha={value:"Oct"},Ga={value:"Nov"},Wa={value:"Dec"},Ka={class:"form-group"},Qa={for:"contractReason",class:"required"},Za={key:0,class:"error-message"},Ya={class:"modal-footer"},Xa=ae({__name:"NewContractModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:y}){const o=u,$=y,n=r("<p>Enter your reason here...</p>"),h=r(!1),l=r({timePeriod:"",contractReason:""}),E=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:E}},C=ee(),a=D(()=>C.language==="ar"),j=D(()=>C.darkMode),i=r(!1),_=r("info"),b=r(""),M=r(""),P=(v,m="info")=>{let T="";return m==="error"?T=a.value?"خطأ!":"Error!":m==="success"?T=a.value?"تم!":"Success!":m==="warning"?T=a.value?"تنبيه!":"Warning!":T=a.value?"معلومات":"Information",b.value=T,M.value=v,_.value=m,i.value=!0,new Promise(B=>{const V=setInterval(()=>{i.value||(clearInterval(V),B(!0))},100)})};function R(){S(),$("update:modelValue",!1)}function S(){l.value={timePeriod:"",contractReason:""},n.value="<p>Enter your reason here...</p>",h.value=!1}async function k(){const v=n.value==="<p>Enter your reason here...</p>"||n.value==="<p><br></p>"||n.value==="";if(!l.value.timePeriod||v){v&&(h.value=!0),P(a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields","warning");return}h.value=!1;try{const m={transaction_date:l.value.timePeriod,notes:n.value,type:"FAD"},T=await he.transfers.createTransfer(m);$("submit",T),R(),P(a.value?"تم إنشاء طلب العقد بنجاح":"Contract request created successfully","success")}catch(m){console.error("Error creating contract request:",m),P(a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request","error")}}return J(()=>o.modelValue,v=>{v&&S()}),(v,m)=>(p(),f(X,null,[u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:R},[e("div",{class:A(["modal-container",{"dark-mode":j.value}]),onClick:m[2]||(m[2]=O(()=>{},["stop"]))},[e("div",Ea,[e("h2",null,t(a.value?"طلب عقد جديد":"New Contract Request"),1),e("button",{class:"close-modal",onClick:R},"×")]),e("div",Sa,[e("div",qa,[e("label",Fa,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",xa,[re(e("select",{id:"timePeriod","onUpdate:modelValue":m[0]||(m[0]=T=>l.value.timePeriod=T),required:""},[e("option",ja,t(a.value?"اختر فترة":"Select period"),1),e("option",Va,t(a.value?"يناير":"January"),1),e("option",Ia,t(a.value?"فبراير":"February"),1),e("option",Ba,t(a.value?"مارس":"March"),1),e("option",Na,t(a.value?"أبريل":"April"),1),e("option",La,t(a.value?"مايو":"May"),1),e("option",Ua,t(a.value?"يونيو":"June"),1),e("option",za,t(a.value?"يوليو":"July"),1),e("option",Oa,t(a.value?"أغسطس":"August"),1),e("option",Ja,t(a.value?"سبتمبر":"September"),1),e("option",Ha,t(a.value?"أكتوبر":"October"),1),e("option",Ga,t(a.value?"نوفمبر":"November"),1),e("option",Wa,t(a.value?"ديسمبر":"December"),1)],512),[[ve,l.value.timePeriod]]),m[4]||(m[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",Ka,[e("label",Qa,t(a.value?"سبب العقد":"Reason for Contract"),1),x(z(fe),{content:n.value,"onUpdate:content":m[1]||(m[1]=T=>n.value=T),toolbar:E,contentType:"html",theme:"snow",options:w,class:A(["transfer-editor",{"editor-error":h.value}])},null,8,["content","class"]),h.value?(p(),f("div",Za,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Ya,[e("button",{class:"btn-secondary",onClick:R},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:k},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),x(ie,{show:i.value,"onUpdate:show":m[3]||(m[3]=T=>i.value=T),type:_.value,title:b.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),eo=oe(Xa,[["__scopeId","data-v-d2960448"]]),to={class:"modal-header"},ao={class:"modal-body"},oo={class:"form-group"},so={for:"timePeriod",class:"required"},no={class:"select-wrapper"},lo={value:"",disabled:""},ro={value:"Jan"},io={value:"Feb"},uo={value:"Mar"},co={value:"Apr"},vo={value:"May"},po={value:"Jun"},fo={value:"Jul"},ho={value:"Aug"},mo={value:"Sep"},_o={value:"Oct"},bo={value:"Nov"},go={value:"Dec"},yo={class:"form-group"},$o={for:"transferReason",class:"required"},ko={key:0,class:"error-message"},wo={class:"modal-footer"},Co=ae({__name:"EditTransferModal",props:{modelValue:{type:Boolean,default:!1},transferData:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue","submit"],setup(u,{emit:y}){const o=u,$=y,n=r(""),h=r(!1),l=r({timePeriod:"",transferId:null}),E=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:E}},C=ee(),a=D(()=>C.language==="ar"),j=D(()=>C.darkMode);function i(){$("update:modelValue",!1)}J(()=>o.transferData,k=>{k&&Object.keys(k).length>0&&(l.value.timePeriod=k.transaction_date||"",l.value.transferId=k.transaction_id,n.value=k.notes||"<p>Enter your reason here...</p>")},{immediate:!0,deep:!0}),J(()=>o.modelValue,k=>{k&&o.transferData&&(l.value.timePeriod=o.transferData.transaction_date||"",l.value.transferId=o.transferData.transaction_id,n.value=o.transferData.notes||"<p>Enter your reason here...</p>")});const _=r(!1),b=r("success"),M=r(""),P=r(""),R=r(3e3);async function S(){const k=n.value==="<p>Enter your reason here...</p>"||n.value==="<p><br></p>"||n.value==="";if(!l.value.timePeriod||k){k&&(h.value=!0),b.value="warning",M.value=a.value?"تنبيه":"Warning",P.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",R.value=0,_.value=!0;return}h.value=!1;try{const v={transaction_date:l.value.timePeriod,notes:n.value,type:"FAR"},m=await he.transfers.updateTransfer(l.value.transferId,v);b.value="success",M.value=a.value?"تم بنجاح":"Success",P.value=a.value?"تم تحديث طلب المناقلة بنجاح":"Transfer request updated successfully",R.value=3e3,_.value=!0,$("submit",m.data),i()}catch(v){console.error("Error updating transfer request:",v),b.value="error",M.value=a.value?"خطأ":"Error",P.value=a.value?"حدث خطأ أثناء تحديث الطلب":"Error updating request",R.value=0,_.value=!0}}return(k,v)=>(p(),f(X,null,[u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:i},[e("div",{class:A(["modal-container",{"dark-mode":j.value}]),onClick:v[2]||(v[2]=O(()=>{},["stop"]))},[e("div",to,[e("h2",null,t(a.value?"تعديل المناقلة":"Edit Transfer"),1),e("button",{class:"close-modal",onClick:i},"×")]),e("div",ao,[e("div",oo,[e("label",so,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",no,[re(e("select",{id:"timePeriod","onUpdate:modelValue":v[0]||(v[0]=m=>l.value.timePeriod=m),required:""},[e("option",lo,t(a.value?"اختر فترة":"Select period"),1),e("option",ro,t(a.value?"يناير":"January"),1),e("option",io,t(a.value?"فبراير":"February"),1),e("option",uo,t(a.value?"مارس":"March"),1),e("option",co,t(a.value?"أبريل":"April"),1),e("option",vo,t(a.value?"مايو":"May"),1),e("option",po,t(a.value?"يونيو":"June"),1),e("option",fo,t(a.value?"يوليو":"July"),1),e("option",ho,t(a.value?"أغسطس":"August"),1),e("option",mo,t(a.value?"سبتمبر":"September"),1),e("option",_o,t(a.value?"أكتوبر":"October"),1),e("option",bo,t(a.value?"نوفمبر":"November"),1),e("option",go,t(a.value?"ديسمبر":"December"),1)],512),[[ve,l.value.timePeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",yo,[e("label",$o,t(a.value?"سبب المناقلة":"Reason for Transfer"),1),x(z(fe),{content:n.value,"onUpdate:content":v[1]||(v[1]=m=>n.value=m),toolbar:E,contentType:"html",theme:"snow",options:w,class:A(["transfer-editor",{"editor-error":h.value}])},null,8,["content","class"]),h.value?(p(),f("div",ko,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",wo,[e("button",{class:"btn-secondary",onClick:i},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:S},t(a.value?"حفظ التغييرات":"Save Changes"),1)])],2)])):F("",!0),x(ie,{show:_.value,"onUpdate:show":v[3]||(v[3]=m=>_.value=m),type:b.value,title:M.value,message:P.value,timer:R.value,showConfirmButton:!0,confirmButtonText:a.value?"حسناً":"OK"},null,8,["show","type","title","message","timer","confirmButtonText"])],64))}}),Pe=oe(Co,[["__scopeId","data-v-713b316e"]]),Do={class:"modal-header"},To={class:"modal-body"},Mo={class:"form-group"},Po={for:"contractPeriod",class:"required"},Ro={class:"select-wrapper"},Ao={value:"",disabled:""},Eo={value:"Jan"},So={value:"Feb"},qo={value:"Mar"},Fo={value:"Apr"},xo={value:"May"},jo={value:"Jun"},Vo={value:"Jul"},Io={value:"Aug"},Bo={value:"Sep"},No={value:"Oct"},Lo={value:"Nov"},Uo={value:"Dec"},zo={class:"form-group"},Oo={for:"contractDescription",class:"required"},Jo={key:0,class:"error-message"},Ho={class:"modal-footer"},Go=ae({__name:"EditContractModal",props:{modelValue:{type:Boolean,default:!1},contractData:{type:Object,required:!0,default:()=>({})}},emits:["update:modelValue","submit"],setup(u,{emit:y}){const o=u,$=y,n=r(""),h=r(!1),l=r({contractPeriod:"",contractId:null}),E=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter contract description here...",modules:{toolbar:E}},C=ee(),a=D(()=>C.language==="ar"),j=D(()=>C.darkMode),i=r(!1),_=r("success"),b=r(""),M=r(""),P=r(3e3);function R(){$("update:modelValue",!1)}J(()=>o.contractData,k=>{k&&Object.keys(k).length>0&&(l.value.contractPeriod=k.transaction_date||"",l.value.contractId=k.transaction_id,n.value=k.notes||"<p>Enter contract description here...</p>")},{immediate:!0,deep:!0}),J(()=>o.modelValue,k=>{k&&o.contractData&&(l.value.contractPeriod=o.contractData.transaction_date||"",l.value.contractId=o.contractData.transaction_id,n.value=o.contractData.notes||"<p>Enter contract description here...</p>")});async function S(){const k=n.value==="<p>Enter contract description here...</p>"||n.value==="<p><br></p>"||n.value==="";if(!l.value.contractPeriod||k){k&&(h.value=!0),_.value="warning",b.value=a.value?"تنبيه":"Attention",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",P.value=0,i.value=!0;return}h.value=!1;try{const v={transaction_date:l.value.contractPeriod,notes:n.value,type:"CTR"},m=await he.transfers.updateTransfer(l.value.contractId,v);_.value="success",b.value=a.value?"تم بنجاح":"Success",M.value=a.value?"تم تحديث العقد بنجاح":"Contract updated successfully",P.value=3e3,i.value=!0,$("submit",m.data),R()}catch(v){console.error("Error updating contract:",v),_.value="error",b.value=a.value?"خطأ":"Error",M.value=a.value?"حدث خطأ أثناء تحديث العقد":"Error updating contract",P.value=0,i.value=!0}}return(k,v)=>(p(),f(X,null,[u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:R},[e("div",{class:A(["modal-container",{"dark-mode":j.value}]),onClick:v[2]||(v[2]=O(()=>{},["stop"]))},[e("div",Do,[e("h2",null,t(a.value?"تحرير العقد":"Edit Contract"),1),e("button",{class:"close-modal",onClick:R},"×")]),e("div",To,[e("div",Mo,[e("label",Po,t(a.value?"فترة العقد":"Contract Period"),1),e("div",Ro,[re(e("select",{id:"contractPeriod","onUpdate:modelValue":v[0]||(v[0]=m=>l.value.contractPeriod=m),required:""},[e("option",Ao,t(a.value?"اختر فترة":"Select period"),1),e("option",Eo,t(a.value?"يناير":"January"),1),e("option",So,t(a.value?"فبراير":"February"),1),e("option",qo,t(a.value?"مارس":"March"),1),e("option",Fo,t(a.value?"أبريل":"April"),1),e("option",xo,t(a.value?"مايو":"May"),1),e("option",jo,t(a.value?"يونيو":"June"),1),e("option",Vo,t(a.value?"يوليو":"July"),1),e("option",Io,t(a.value?"أغسطس":"August"),1),e("option",Bo,t(a.value?"سبتمبر":"September"),1),e("option",No,t(a.value?"أكتوبر":"October"),1),e("option",Lo,t(a.value?"نوفمبر":"November"),1),e("option",Uo,t(a.value?"ديسمبر":"December"),1)],512),[[ve,l.value.contractPeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",zo,[e("label",Oo,t(a.value?"وصف العقد":"Contract Description"),1),x(z(fe),{content:n.value,"onUpdate:content":v[1]||(v[1]=m=>n.value=m),toolbar:E,contentType:"html",theme:"snow",options:w,class:A(["transfer-editor",{"editor-error":h.value}])},null,8,["content","class"]),h.value?(p(),f("div",Jo,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Ho,[e("button",{class:"btn-secondary",onClick:R},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:S},t(a.value?"حفظ التغييرات":"Save Changes"),1)])],2)])):F("",!0),x(ie,{show:i.value,"onUpdate:show":v[3]||(v[3]=m=>i.value=m),type:_.value,title:b.value,message:M.value,timer:P.value,showConfirmButton:!0,confirmButtonText:a.value?"حسناً":"OK"},null,8,["show","type","title","message","timer","confirmButtonText"])],64))}}),Wo=oe(Go,[["__scopeId","data-v-7b141b7d"]]),Ko={class:"modal-header"},Qo={class:"modal-body file-modal-body"},Zo={key:0,class:"file-upload-section"},Yo=["accept"],Xo={class:"drop-zone-content"},es={class:"file-types"},ts={key:0,class:"selected-file"},as={key:1,class:"file-error"},os=["disabled"],ss={key:0},ns={key:1},ls={key:1,class:"read-only-notice"},rs={class:"file-list-section"},is={key:0,class:"loading-files"},us={key:1,class:"no-files"},cs={key:2,class:"file-list"},ds={class:"file-info"},vs={class:"file-name"},ps={class:"file-size"},fs={class:"file-date"},hs={class:"file-actions"},ms=["onClick"],_s={__name:"AttachmentModal",props:{show:{type:Boolean,default:!1},transactionId:{type:Number,default:0},status:{type:String,default:"pending"}},emits:["update:show","files-updated"],setup(u,{emit:y}){const o=u,$=y,n=ee(),h=r(!1),l=r(!1),E=r([]),w=r(!1),C=r(null),a=r(null),j=r(!1),i=r(!1),_=r(""),b=r([".xlsx",".pdf",".doc",".docx",".xls"]);J(()=>n.darkMode,g=>{h.value=g},{immediate:!0}),J(()=>n.language,g=>{l.value=g==="ar"},{immediate:!0}),J(()=>o.transactionId,g=>{g&&o.show&&S()});function M(g){return g?new Date(g).toLocaleDateString():""}function P(g){return g<1024?g+" B":g<1024*1024?(g/1024).toFixed(1)+" KB":(g/(1024*1024)).toFixed(1)+" MB"}function R(){$("update:show",!1),T()}async function S(){if(o.transactionId){w.value=!0;try{const g=await Re.listFiles(o.transactionId);g&&g.attachments?E.value=g.attachments:E.value=[]}catch(g){console.error("Error loading files:",g),E.value=[]}finally{w.value=!1}}}function k(g){const I=g.target.files[0];I&&m(I)}function v(g){j.value=!1;const I=g.dataTransfer.files[0];I&&m(I)}function m(g){if(g.size>20971520){_.value=l.value?"حجم الملف كبير جدًا. الحد الأقصى هو 5 ميغابايت.":"File is too large. Maximum size is 5MB.";return}const L="."+g.name.split(".").pop().toLowerCase();if(!b.value.includes(L)){_.value=l.value?"نوع الملف غير مدعوم. الأنواع المدعومة هي: .xlsx، .pdf، .doc، .docx":"File type not allowed. Allowed types are: .xlsx, .pdf, .doc, .docx";return}_.value="",C.value=g}function T(){C.value=null,_.value="",a.value&&(a.value.value="")}const B=r(!1),V=r("success"),G=r(""),N=r("");async function ue(){if(!(!C.value||!o.transactionId)){i.value=!0;try{await Re.uploadFile(C.value,o.transactionId),T(),S(),$("files-updated"),V.value="success",G.value=l.value?"تم بنجاح!":"Success!",N.value=l.value?"تم تحميل الملف بنجاح":"File uploaded successfully",B.value=!0}catch(g){console.error("Error uploading file:",g),_.value=l.value?"حدث خطأ أثناء تحميل الملف. يرجى المحاولة مرة أخرى.":"Error uploading file. Please try again."}finally{i.value=!1}}}function Z(g){const I=atob(g.file_data),L=I.length,q=new Uint8Array(L);for(let se=0;se<L;se++)q[se]=I.charCodeAt(se);const ce=new Blob([q],{type:g.file_type}),te=URL.createObjectURL(ce),W=document.createElement("a");W.href=te,W.download=g.file_name,document.body.appendChild(W),W.click(),document.body.removeChild(W),URL.revokeObjectURL(te)}return(g,I)=>(p(),f(X,null,[u.show?(p(),f("div",{key:0,class:"modal-overlay",onClick:R},[e("div",{class:A(["file-modal-container",{"dark-mode":h.value}]),onClick:I[3]||(I[3]=O(()=>{},["stop"]))},[e("div",Ko,[e("h2",null,t(l.value?"إدارة المرفقات":"Manage Attachments"),1),e("button",{class:"close-modal",onClick:R},"×")]),e("div",Qo,[u.status.toLowerCase()==="pending"?(p(),f("div",Zo,[e("h3",null,t(l.value?"تحميل ملف جديد":"Upload New File"),1),e("div",{class:A(["file-drop-zone",{"file-drop-active":j.value}]),onDragover:I[1]||(I[1]=O(L=>j.value=!0,["prevent"])),onDragleave:I[2]||(I[2]=L=>j.value=!1),onDrop:O(v,["prevent"])},[e("input",{type:"file",ref_key:"fileInput",ref:a,onChange:k,class:"file-input",accept:b.value.join(",")},null,40,Yo),e("div",Xo,[x(z(jt),{size:"48"}),e("p",null,t(l.value?"اسحب وأفلت الملف هنا أو":"Drag and drop files here or"),1),e("button",{class:"btn-secondary",onClick:I[0]||(I[0]=L=>g.$refs.fileInput.click())},t(l.value?"اختر ملفًا":"Browse files"),1),e("p",es,t(l.value?"الملفات المسموح بها":"Allowed files")+": .xlsx, .pdf, .doc, .docx ",1)]),C.value?(p(),f("div",ts,[x(z(Le),{size:"18"}),e("span",null,t(C.value.name),1),e("button",{class:"clear-file",onClick:O(T,["prevent"])},"×")])):F("",!0),_.value?(p(),f("div",as,t(_.value),1)):F("",!0)],34),e("button",{class:"btn-primary upload-btn",disabled:!C.value||i.value,onClick:ue},[i.value?(p(),f("span",ns,t(l.value?"جاري التحميل...":"Uploading..."),1)):(p(),f("span",ss,t(l.value?"تحميل الملف":"Upload File"),1))],8,os)])):(p(),f("div",ls,[x(z(qt),{size:"18"}),e("p",null,t(l.value?"المرفقات للقراءة فقط. لا يمكن إضافة مرفقات جديدة لطلبات موافق عليها أو مرفوضة.":"Attachments are read-only. You cannot add new attachments to approved or rejected requests."),1)])),e("div",rs,[e("h3",null,t(l.value?"المرفقات الحالية":"Current Attachments"),1),w.value?(p(),f("div",is,t(l.value?"جاري تحميل المرفقات...":"Loading attachments..."),1)):E.value.length===0?(p(),f("div",us,t(l.value?"لا توجد مرفقات لهذه المعاملة":"No attachments for this transaction"),1)):(p(),f("ul",cs,[(p(!0),f(X,null,_e(E.value,L=>(p(),f("li",{key:L.attachment_id,class:"file-item"},[e("div",ds,[x(z(Le),{size:"18"}),e("span",vs,t(L.file_name),1),e("span",ps,t(P(L.file_size)),1),e("span",fs,t(M(L.upload_date)),1)]),e("div",hs,[e("button",{onClick:q=>Z(L),class:"icon-btn",title:"Download"},[x(z(Vt),{size:"18"})],8,ms)])]))),128))]))])])],2)])):F("",!0),x(ie,{show:B.value,"onUpdate:show":I[4]||(I[4]=L=>B.value=L),type:V.value,title:G.value,message:N.value,timer:3e3},null,8,["show","type","title","message"])],64))}},bs={class:"modal-header"},gs={class:"modal-body approval-pipeline-body"},ys={key:0,class:"waiting-to-submit"},$s={class:"waiting-message"},ks={key:1,class:"approval-steps"},ws={class:"step-icon"},Cs={class:"step-content"},Ds={class:"step-title"},Ts={class:"step-approver"},Ms={key:0,class:"step-date"},Ps={key:1,class:"step-status"},Rs={key:2,class:"step-status rejected-text"},As={class:"step-icon"},Es={class:"step-content"},Ss={class:"step-title"},qs={class:"step-approver"},Fs={key:0,class:"step-date"},xs={key:1,class:"step-status"},js={key:2,class:"step-status rejected-text"},Vs={class:"step-icon"},Is={class:"step-content"},Bs={class:"step-title"},Ns={class:"step-approver"},Ls={key:0,class:"step-date"},Us={key:1,class:"step-status"},zs={key:2,class:"step-status rejected-text"},Os={class:"step-icon"},Js={class:"step-content"},Hs={class:"step-title"},Gs={class:"step-approver"},Ws={key:0,class:"step-date"},Ks={key:1,class:"step-status"},Qs={key:2,class:"step-status rejected-text"},Zs=ae({__name:"ApprovalPipelineModal",props:{modelValue:{type:Boolean,default:!1},approvalData:{type:Object,required:!0,default:()=>({})}},emits:["update:modelValue"],setup(u,{emit:y}){const o=u,$=y,n=ee(),h=D(()=>n.language==="ar"),l=D(()=>n.darkMode),E=D(()=>{var i,_,b,M,P,R,S,k,v;return!((i=o.approvalData)!=null&&i.approvel_1)&&!((_=o.approvalData)!=null&&_.approvel_2)&&!((b=o.approvalData)!=null&&b.approvel_3)&&!((M=o.approvalData)!=null&&M.approvel_4)&&!((P=o.approvalData)!=null&&P.approvel_1_date)&&!((R=o.approvalData)!=null&&R.approvel_2_date)&&!((S=o.approvalData)!=null&&S.approvel_3_date)&&!((k=o.approvalData)!=null&&k.approvel_4_date)&&((v=o.approvalData)==null?void 0:v.status_level)===1});function w(i){var _,b,M,P,R,S,k,v,m,T,B;if(((_=o.approvalData)==null?void 0:_.status_level)===-1){if(i<4){let V,G,N;return i===1?(V=(b=o.approvalData)==null?void 0:b.approvel_1_date,G=(M=o.approvalData)==null?void 0:M.approvel_1,N=(P=o.approvalData)==null?void 0:P.approvel_2_date):i===2?(V=(R=o.approvalData)==null?void 0:R.approvel_2_date,G=(S=o.approvalData)==null?void 0:S.approvel_2,N=(k=o.approvalData)==null?void 0:k.approvel_3_date):(V=(v=o.approvalData)==null?void 0:v.approvel_3_date,G=(m=o.approvalData)==null?void 0:m.approvel_3,N=(T=o.approvalData)==null?void 0:T.approvel_4_date),!!V&&!!G&&!N}if(i===4)return!!((B=o.approvalData)!=null&&B.approvel_4_date)}return!1}function C(i){for(let _=1;_<i;_++)if(w(_))return!0;return!1}function a(){$("update:modelValue",!1)}function j(i){return i?new Date(i).toLocaleDateString():""}return(i,_)=>{var b,M,P,R,S,k,v,m,T,B,V,G,N,ue,Z,g;return u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:a},[e("div",{class:A(["approval-modal-container",{"dark-mode":l.value}]),onClick:_[0]||(_[0]=O(()=>{},["stop"]))},[e("div",bs,[e("h2",null,t(h.value?"سير عملية الموافقة":"Approval Pipeline"),1),e("button",{class:"close-modal",onClick:a},"×")]),e("div",gs,[E.value?(p(),f("div",ys,[_[1]||(_[1]=e("div",{class:"waiting-icon"},[e("i",{class:"fas fa-clock"})],-1)),e("div",$s,t(h.value?"في انتظار التقديم":"Waiting to submit"),1)])):(p(),f("div",ks,[e("div",{class:A(["step-card",{approved:(b=u.approvalData)==null?void 0:b.approvel_1_date,pending:!((M=u.approvalData)!=null&&M.approvel_1_date),rejected:w(1),rtl:h.value}])},[e("div",ws,[e("i",{class:A(w(1)?"fas fa-times-circle":"fas fa-clipboard-check")},null,2)]),e("div",Cs,[e("div",Ds,t(h.value?"قسم التخطيط والموازنة":"Planning & Budget"),1),e("div",Ts,t(((P=u.approvalData)==null?void 0:P.approvel_1)||"-"),1),(R=u.approvalData)!=null&&R.approvel_1_date?(p(),f("div",Ms,t(j(u.approvalData.approvel_1_date)),1)):w(1)?(p(),f("div",Rs,t(h.value?"مرفوض":"Rejected"),1)):(p(),f("div",Ps,t(h.value?"قيد الانتظار":"Pending"),1))])],2),e("div",{class:A(["step-arrow",{"rtl-arrow":h.value}])},null,2),e("div",{class:A(["step-card",{approved:((S=u.approvalData)==null?void 0:S.approvel_2_date)&&!w(2),pending:!((k=u.approvalData)!=null&&k.approvel_2_date)&&!w(2),rejected:w(2),rtl:h.value,"greyed-out":C(2)}])},[e("div",As,[e("i",{class:A(w(2)?"fas fa-times-circle":"fas fa-file-invoice-dollar")},null,2)]),e("div",Es,[e("div",Ss,t(h.value?"مدير إدارة المالية":"Finance Director"),1),e("div",qs,t(((v=u.approvalData)==null?void 0:v.approvel_2)||"-"),1),(m=u.approvalData)!=null&&m.approvel_2_date?(p(),f("div",Fs,t(j(u.approvalData.approvel_2_date)),1)):!w(2)&&!C(2)?(p(),f("div",xs,t(h.value?"قيد الانتظار":"Pending"),1)):w(2)?(p(),f("div",js,t(h.value?"مرفوض":"Rejected"),1)):F("",!0)])],2),e("div",{class:A(["step-arrow",{"rtl-arrow":h.value}])},null,2),e("div",{class:A(["step-card",{approved:((T=u.approvalData)==null?void 0:T.approvel_3_date)&&!w(3),pending:!((B=u.approvalData)!=null&&B.approvel_3_date)&&!w(3),rejected:w(3),rtl:h.value,"greyed-out":C(3)}])},[e("div",Vs,[e("i",{class:A(w(3)?"fas fa-times-circle":"fas fa-chart-line")},null,2)]),e("div",Is,[e("div",Bs,t(h.value?"المدير المالي التنفيذي":"CFO"),1),e("div",Ns,t(((V=u.approvalData)==null?void 0:V.approvel_3)||"-"),1),(G=u.approvalData)!=null&&G.approvel_3_date?(p(),f("div",Ls,t(j(u.approvalData.approvel_3_date)),1)):!w(3)&&!C(3)?(p(),f("div",Us,t(h.value?"قيد الانتظار":"Pending"),1)):w(3)?(p(),f("div",zs,t(h.value?"مرفوض":"Rejected"),1)):F("",!0)])],2),e("div",{class:A(["step-arrow",{"rtl-arrow":h.value}])},null,2),e("div",{class:A(["step-card",{approved:((N=u.approvalData)==null?void 0:N.approvel_4_date)&&!w(4),pending:!((ue=u.approvalData)!=null&&ue.approvel_4_date)&&!w(4),rejected:w(4),rtl:h.value,"greyed-out":C(4)}])},[e("div",Os,[e("i",{class:A(w(4)?"fas fa-times-circle":"fas fa-check-double")},null,2)]),e("div",Js,[e("div",Hs,t(h.value?"المدير العام":"General Manager"),1),e("div",Gs,t(((Z=u.approvalData)==null?void 0:Z.approvel_4)||"-"),1),(g=u.approvalData)!=null&&g.approvel_4_date?(p(),f("div",Ws,t(j(u.approvalData.approvel_4_date)),1)):!w(4)&&!C(4)?(p(),f("div",Ks,t(h.value?"قيد الانتظار":"Pending"),1)):w(4)?(p(),f("div",Qs,t(h.value?"مرفوض":"Rejected"),1)):F("",!0)])],2)]))])],2)])):F("",!0)}}}),Ys=oe(Zs,[["__scopeId","data-v-65c3060c"]]),Xs={class:"rejection-modal-header"},en={class:"rejection-modal-body"},tn={key:0,class:"loading-container"},an={key:1,class:"error-container"},on={key:2,class:"no-reports"},sn={key:3,class:"reports-list"},nn={class:"report-header"},ln={class:"report-title"},rn={class:"report-number"},un={class:"report-date"},cn={class:"report-content"},dn={class:"report-field"},vn={class:"field-label"},pn={class:"field-value"},fn={class:"report-field reason"},hn={class:"field-label"},mn={class:"reason-text"},_n={class:"report-footer"},bn={class:"transaction-id"},gn=ae({__name:"RejectionReportModal",props:{show:{type:Boolean,default:!1},transactionId:{type:Number,default:0}},emits:["update:show"],setup(u,{emit:y}){const o=u,$=y,n=r([]),h=r(!1),l=r(""),E=ee(),w=D(()=>E.darkMode),C=D(()=>E.language==="ar");J(()=>o.show,async _=>{_&&o.transactionId&&await i()}),J(()=>o.transactionId,async _=>{o.show&&_&&await i()});function a(_){return _?new Date(_).toLocaleString():""}function j(){$("update:show",!1)}async function i(){if(o.transactionId){h.value=!0,l.value="",n.value=[];try{const _=await Re.getRejectionReports(o.transactionId);n.value=_||[]}catch(_){l.value=C.value?"حدث خطأ أثناء تحميل تقارير الرفض":"An error occurred while loading rejection reports",console.error("Error loading rejection reports:",_)}finally{h.value=!1}}}return Oe(async()=>{o.show&&o.transactionId&&await i()}),(_,b)=>u.show?(p(),f("div",{key:0,class:"rejection-modal-overlay",onClick:j},[e("div",{class:A(["rejection-modal-container",{"dark-mode":w.value}]),onClick:b[0]||(b[0]=O(()=>{},["stop"]))},[e("div",Xs,[e("h2",null,t(C.value?"تقارير الرفض":"Rejection Reports"),1),e("button",{class:"close-modal",onClick:j},b[1]||(b[1]=[e("span",{class:"close-icon"},"×",-1)]))]),e("div",en,[h.value?(p(),f("div",tn,[b[2]||(b[2]=e("div",{class:"loading-spinner"},null,-1)),e("p",null,t(C.value?"جاري التحميل...":"Loading..."),1)])):l.value?(p(),f("div",an,[b[3]||(b[3]=e("div",{class:"error-icon"},"!",-1)),e("p",null,t(l.value),1)])):n.value.length===0?(p(),f("div",on,[b[4]||(b[4]=e("div",{class:"info-icon"},"i",-1)),e("p",null,t(C.value?"لا توجد تقارير رفض":"No rejection reports found"),1)])):(p(),f("div",sn,[x(Ct,{name:"fade",tag:"div"},{default:Je(()=>[(p(!0),f(X,null,_e(n.value,(M,P)=>(p(),f("div",{key:P,class:"report-card"},[e("div",nn,[e("div",ln,[b[5]||(b[5]=e("span",{class:"report-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1)),e("span",rn,t(C.value?"تقرير رفض":"Rejection Report")+" #"+t(P+1),1)]),e("div",un,t(a(M.created_at)),1)]),e("div",cn,[e("div",dn,[e("span",vn,t(C.value?"رفض بواسطة":"Rejected by")+":",1),e("span",pn,t(M["rejected by"]),1)]),e("div",fn,[e("span",hn,t(C.value?"السبب":"Reason")+":",1),e("div",mn,t(M.reason_text),1)])]),e("div",_n,[e("div",bn,t(C.value?"رقم المعاملة":"Transaction ID")+": "+t(M.transaction_id),1)])]))),128))]),_:1})]))])],2)])):F("",!0)}}),yn=oe(gn,[["__scopeId","data-v-8f9f49fb"]]),$n={class:"modal-header"},kn={class:"modal-body oracle-pipeline-body"},wn={class:"waiting-for-erp"},Cn={class:"waiting-message"},Dn={class:"waiting-description"},Tn=ae({__name:"OracleApprovalPipelineModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:y}){const o=y,$=ee(),n=D(()=>$.language==="ar"),h=D(()=>$.darkMode);function l(){o("update:modelValue",!1)}return(E,w)=>u.modelValue?(p(),f("div",{key:0,class:"modal-overlay",onClick:l},[e("div",{class:A(["oracle-modal-container",{"dark-mode":h.value}]),onClick:w[0]||(w[0]=O(()=>{},["stop"]))},[e("div",$n,[e("h2",null,t(n.value?"حالة نظام الأوراكل":"Oracle ERP Status"),1),e("button",{class:"close-modal",onClick:l},"×")]),e("div",kn,[e("div",wn,[w[1]||(w[1]=e("div",{class:"waiting-icon"},[e("i",{class:"fas fa-sync-alt fa-spin"})],-1)),e("div",Cn,t(n.value?"في انتظار الاتصال بنظام ERP...":"Waiting to connect to ERP..."),1),e("div",Dn,t(n.value?"جاري محاولة الاتصال بنظام أوراكل للمؤسسة":"Attempting to establish connection with Oracle Enterprise System"),1)])])],2)])):F("",!0)}}),Mn=oe(Tn,[["__scopeId","data-v-c157c779"]]),H="https://lightidea.org:9000/",Pn="https://lightidea.org:9000/",Rn="/api/budget/transfers/list/",An=6,ze={async fetchTransfers(u="FAR",y="",o=1){const $=Y();if(!$.token)throw new Error("Authentication token not found");const n={page:o.toString(),page_size:An.toString()},h={Authorization:`Bearer ${$.token}`,Accept:"application/json","Content-Type":"application/json"},l=y.trim()?{code:u,search:y.trim()}:{code:u};try{return(await Q.post(`${Pn}${Rn}`,l,{headers:h,params:n})).data}catch(E){throw console.error("Error fetching transfers:",E),E}},async deleteTransfer(u){const y=Y();if(!y.token)throw new Error("Authentication token not found");try{return(await Q.delete(`${H}/api/budget/transfers/${u}/delete/`,{headers:{Authorization:`Bearer ${y.token}`}})).data}catch(o){throw console.error("Error deleting transfer:",o),o}},async getTransferDetails(u){const y=Y();try{return(await Q.get(`${H}/api/budget/transfers/${u}/`,{headers:{Authorization:`Bearer ${y.token}`}})).data}catch(o){throw console.error("Error fetching transfer details:",o),o}},async submitTransferRequest(u){const y=Y();try{return(await Q.post(`${H}/api/budget/transfers/${u}/submit/`,{},{headers:{Authorization:`Bearer ${y.token}`}})).data}catch(o){throw console.error("Error submitting transfer request:",o),o}},async reopenTransferRequest(u){const y=Y();try{return(await Q.post(`${H}/api/budget/transfers/${u}/reopen/`,{},{headers:{Authorization:`Bearer ${y.token}`}})).data}catch(o){throw console.error("Error reopening transfer request:",o),o}},async generateReport(u){const y=Y();try{return(await Q.get(`${H}/api/budget/transfers/${u}/report/`,{headers:{Authorization:`Bearer ${y.token}`},responseType:"blob"})).data}catch(o){throw console.error("Error generating report:",o),o}},async createTransfer(u,y){const o=Y();try{const $=y.map(l=>({transaction:l.transaction,cost_center_code:l.cost_center_code,cost_center_name:l.cost_center_name,account_code:l.account_code,account_name:l.account_name,approved_budget:parseFloat(l.approved_budget)||0,available_budget:parseFloat(l.available_budget)||0,from_center:parseFloat(l.from_center)||0,to_center:parseFloat(l.to_center)||0,encumbrance:parseFloat(l.encumbrance)||0,actual:parseFloat(l.actual)||0,done:1}));let n;switch(u){case"AFR":n=`${H}/api/adjd-transfers/create/`;break;case"FAD":n=`${H}/api/fund-adj-transfers/create/`;break;case"FAR":default:n=`${H}/api/fund-transfers/create/`;break}return(await Q.post(n,$,{headers:{Authorization:`Bearer ${o.token}`}})).data}catch($){throw console.error("Error creating transfer request:",$),$}},async uploadFile(u,y){const o=Y(),$=new FormData;$.append("file",u),$.append("transaction_id",y.toString());try{return(await Q.post(`${H}/api/budget/transfers/upload-file/`,$,{headers:{Authorization:`Bearer ${o.token}`,"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error uploading file:",n),n}},async listFiles(u){const y=Y();try{return(await Q.get(`${H}/api/budget/transfers/${u}/files/`,{headers:{Authorization:`Bearer ${y.token}`}})).data}catch(o){throw console.error("Error listing files:",o),o}},async uploadExcelFile(u,y){const o=Y(),$=new FormData;$.append("file",u);try{return(await Q.post(`${H}/api/budget/transfers/${y}/upload-excel/`,$,{headers:{Authorization:`Bearer ${o.token}`,"Content-Type":"multipart/form-data"}})).data}catch(n){throw console.error("Error uploading Excel file:",n),n}},async getPivotFundDetails(u,y){const o=Y();try{return(await Q.get(`${H}/api/accounts-entities/pivot-funds/getdetail/?entity_id=${u}&account_id=${y}`,{headers:{Authorization:`Bearer ${o.token}`}})).data}catch($){throw(!$.response||$.response.status!==404)&&console.error("Error fetching pivot fund details:",$),$}},getTransfers(u){return Q.get(`${H}/api/budget/transfers/?transaction=${u}`)}},En=["dir"],Sn={class:"page-header glass-panel"},qn={class:"header-left"},Fn={class:"page-title"},xn={class:"page-subtitle"},jn={class:"header-right"},Vn=["title"],In={class:"search-section glass-panel"},Bn={class:"search-container"},Nn={class:"search-input-wrapper"},Ln=["placeholder"],Un={class:"table-container glass-panel"},zn={key:0,class:"loading-state"},On={class:"loading-text"},Jn={key:1,class:"empty-state"},Hn={key:2,class:"modern-table-wrapper"},Gn={class:"modern-table"},Wn={class:"table-header"},Kn={class:"th-actions"},Qn={class:"th-code"},Zn={class:"th-requested-by"},Yn={class:"th-description"},Xn={class:"th-request-date"},el={class:"th-transaction-date"},tl={class:"th-track"},al={class:"th-status"},ol={class:"th-attachments"},sl={key:0,class:"th-rejection"},nl={class:"td-actions"},ll={class:"action-buttons-group"},rl=["onClick","disabled","title"],il=["onClick","disabled","title"],ul={class:"td-code"},cl={class:"td-requested-by"},dl={class:"td-description"},vl=["onClick"],pl={class:"td-request-date"},fl={class:"td-transaction-date"},hl={class:"td-track"},ml={class:"td-status"},_l=["onClick"],bl={class:"td-attachments"},gl=["onClick","title"],yl={key:0,class:"td-rejection"},$l=["onClick","disabled","title"],kl={key:0,class:"pagination-wrapper glass-panel"},wl={class:"pagination-info"},Cl={class:"pagination-text"},Dl={class:"items-per-page"},Tl={class:"pagination-controls"},Ml=["disabled"],Pl=["disabled"],Rl={class:"page-numbers"},Al=["onClick","disabled"],El=["disabled"],Sl=["disabled"],ql={class:"modal-header"},Fl={class:"modal-body"},xl={class:"modal-footer"},jl={class:"modal-header"},Vl={class:"modal-body"},Il=["innerHTML"],Bl={class:"modal-footer"},Nl=ae({name:"UnifiedTransfersPage",__name:"UnifiedTransfers",setup(u){const y=Dt(),o=ee(),$=St(),n=D(()=>{switch(y.name){case"Home":return{pageType:"transfers",code:"FAR",newRequestComponent:Ue,editComponent:Pe,cssClass:"home-page",title:"Transfers",subtitle:"Fund Adjustment Requests",searchPlaceholder:"Search transfers...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"};case"Enhancements":return{pageType:"enhancements",code:"AFR",newRequestComponent:Aa,editComponent:Pe,cssClass:"enhancements-page",title:"Enhancements",subtitle:"Additional Fund Requests",searchPlaceholder:"Search enhancements...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"};case"Settlements":return{pageType:"contracts",code:"FAD",newRequestComponent:eo,editComponent:Wo,cssClass:"contract-page",title:"Settlements",subtitle:"Fund Adjustment Department",searchPlaceholder:"Search settlements...",showRejectionColumn:!1,detailRoute:"/contracts"};default:return{pageType:"transfers",code:"FAR",newRequestComponent:Ue,editComponent:Pe,cssClass:"home-page",title:"Transfers",subtitle:"Fund Adjustment Requests",searchPlaceholder:"Search transfers...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"}}}),h=D(()=>n.value.cssClass),l=D(()=>{if(i.value)switch(y.name){case"Home":return"المناقلات";case"Enhancements":return"التعزيزات";case"Settlements":return"التسويات";default:return"المناقلات"}return n.value.title}),E=D(()=>{if(i.value)switch(y.name){case"Home":return"طلبات تعديل الميزانية";case"Enhancements":return"طلبات الأموال الإضافية";case"Settlements":return"قسم تعديل الأموال";default:return"طلبات تعديل الميزانية"}return n.value.subtitle}),w=D(()=>{if(i.value)switch(y.name){case"Home":return"البحث في المناقلات...";case"Enhancements":return"البحث في التعزيزات...";case"Settlements":return"البحث في التسويات...";default:return"البحث في المناقلات..."}return n.value.searchPlaceholder}),C=D(()=>n.value.showRejectionColumn),a=D(()=>n.value.newRequestComponent),j=D(()=>n.value.editComponent),i=D(()=>o.language==="ar"),_=D(()=>i.value?"طلب جديد":"New Request"),b=D(()=>i.value?`إنشاء ${l.value} جديد`:`Create New ${n.value.title}`),M=D(()=>i.value?"جاري التحميل...":"Loading..."),P=D(()=>i.value?"لا توجد بيانات":"No Data Available"),R=D(()=>i.value?`لا توجد ${l.value} متاحة`:`No ${n.value.title.toLowerCase()} available`),S=D(()=>i.value?"تأكيد الحذف":"Confirm Delete"),k=D(()=>i.value?"هل أنت متأكد من حذف هذا العنصر؟":"Are you sure you want to delete this item?"),v=D(()=>i.value?"إلغاء":"Cancel"),m=D(()=>i.value?"حذف":"Delete"),T=D(()=>i.value?"الوصف":"Description"),B=D(()=>i.value?"إغلاق":"Close"),V=D(()=>({actions:i.value?"الإجراءات":"Actions",code:i.value?"الرمز":"Code",requestedBy:i.value?"طلب بواسطة":"Requested By",description:i.value?"الوصف":"Description",requestDate:i.value?"تاريخ الطلب":"Request Date",transactionDate:i.value?"تاريخ المعاملة":"Transaction Date",track:i.value?"تتبع":"Track",status:i.value?"الحالة":"Status",attachments:i.value?"المرفقات":"Attachments",rejection:i.value?"الرفض":"Rejection"})),G=D(()=>{const s=(q.value-1)*6+1,d=Math.min(q.value*6,g.value);return i.value?`عرض ${s} إلى ${d} من ${g.value} عنصر`:`Showing ${s} to ${d} of ${g.value} items`}),N=r(!1),ue=r(null),Z=r([]),g=r(0),I=r(!1),L=r(!1),q=r(1),ce=r(6),te=r(""),W=r(null),se=r(!1),be=r(!1),Ee=r(""),ge=r(!1),Se=r(null),me=r(!1),pe=r(null),ye=r(!1),qe=r(0),Fe=r("pending"),$e=r(!1),xe=r(null),ke=r(!1),je=r(0),we=r(!1),Ce=r(!1),Ve=r("info"),Ie=r(""),le=D(()=>g.value===0?1:Math.ceil(g.value/ce.value)),He=D(()=>{const s=[],d=le.value,K=q.value;if(d<=7)for(let c=1;c<=d;c++)s.push(c);else if(K<=4){for(let c=1;c<=5;c++)s.push(c);d>6&&s.push(-1),s.push(d)}else if(K>=d-3){s.push(1),d>6&&s.push(-1);for(let c=d-4;c<=d;c++)s.push(c)}else{s.push(1),s.push(-1);for(let c=K-1;c<=K+1;c++)s.push(c);s.push(-1),s.push(d)}return s});function Ge(s){if(!s)return"";try{return new Date(s).toLocaleDateString("en-GB")}catch{return s}}function We(s){return s?s.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):""}function Ke(s){const d=s.toLowerCase();return{"row-pending":d==="pending","row-approved":d==="approved","row-rejected":d==="rejected","row-submitted":d==="submitted"}}function Qe(s){const d=n.value.detailRoute,K=n.value.pageType==="enhancements"?{source:"EnhancementsPage"}:{};return{path:`${d}/${s.transaction_id}`,query:K}}function Ze(s){return!s.attachment_count||s.attachment_count===0?i.value?"لا توجد مرفقات":"No attachments":i.value?`${s.attachment_count} مرفق(ات)`:`${s.attachment_count} attachment(s)`}function de(s){return s.status.toLowerCase()==="rejected"}function Ye(s){return de(s)?i.value?"عرض تقرير الرفض":"View rejection report":i.value?"غير متاح":"Not available"}function Xe(s){return de(s)?i.value?"عرض":"View":(i.value,"-")}function et(s){n.value.pageType==="enhancements"&&$.setNavigationSource("EnhancementsPage",{transactionId:s.transaction_id,code:s.code})}async function U(){try{N.value=!0;const s=await ze.fetchTransfers(n.value.code,te.value,q.value);s&&s.results?(ue.value=s,Z.value=Array.isArray(s.results)?s.results:s.results.results||[],g.value=s.count||0,I.value=!!s.next,L.value=!!s.previous):(Z.value=[],g.value=0)}catch(s){console.error("Error fetching data:",s),Me("error","Failed to load data"),Z.value=[],g.value=0}finally{N.value=!1}}function tt(){W.value&&clearTimeout(W.value),W.value=setTimeout(()=>{q.value=1,U()},500)}function at(){te.value="",q.value=1,U()}function ot(){q.value<le.value&&(q.value++,U())}function st(){q.value>1&&(q.value--,U())}function nt(){q.value!==1&&(q.value=1,U())}function lt(){q.value!==le.value&&(q.value=le.value,U())}function rt(s){s!==-1&&s!==q.value&&s>=1&&s<=le.value&&(q.value=s,U())}function it(s){const d=s.target,K=parseInt(d.value);ce.value=K,q.value=1,U()}function ut(s){Ee.value=s.description_x||s.notes||"",be.value=!0}function De(){be.value=!1}function ct(s){Se.value=s,ge.value=!0}function dt(s){s.status.toLowerCase()==="pending"&&(pe.value=s,me.value=!0)}function Te(){me.value=!1,pe.value=null}function vt(){pe.value&&(N.value=!0,me.value=!1,ze.deleteTransfer(pe.value.transaction_id).then(()=>{Me("success","Item deleted successfully"),U()}).catch(s=>{console.error("Error deleting item:",s),Me("error","Failed to delete item")}).finally(()=>{N.value=!1,pe.value=null}))}function pt(s){qe.value=s.transaction_id,Fe.value=s.status,ye.value=!0}function ft(s){xe.value=s,$e.value=!0}function ht(s){de(s)&&(je.value=s.transaction_id,ke.value=!0)}function mt(){we.value=!0}function _t(){se.value=!0}function bt(s){console.log("New request submitted:",s),U()}function gt(s){console.log("Item updated:",s),U()}function yt(){U()}function Me(s,d){Ve.value=s,Ie.value=d,Ce.value=!0}function $t(s){s.target.classList.add("search-focused")}function kt(s){s.target.classList.remove("search-focused")}function wt(){}return Oe(()=>{U()}),Tt(()=>{W.value&&(clearTimeout(W.value),W.value=null),document.querySelectorAll(".unified-page *").forEach(d=>{const K=d;K.style.animation="none"})}),J(()=>y.name,()=>{q.value=1,te.value="",U()}),J(()=>o.darkMode,()=>{}),(s,d)=>{const K=At("router-link");return p(),f("div",{class:A(["unified-page",[h.value,{"dark-theme":z(o).darkMode}]]),dir:i.value?"rtl":"ltr"},[d[20]||(d[20]=e("div",{class:"background-effects"},[e("div",{class:"floating-orb orb-1"}),e("div",{class:"floating-orb orb-2"})],-1)),e("div",Sn,[e("div",qn,[e("h1",Fn,t(l.value),1),e("p",xn,t(E.value),1)]),e("div",jn,[e("button",{class:"btn-primary",onClick:_t,title:b.value},[e("span",null,t(_.value),1)],8,Vn)])]),e("div",In,[e("div",Bn,[e("div",Nn,[re(e("input",{"onUpdate:modelValue":d[0]||(d[0]=c=>te.value=c),type:"text",class:"search-input",placeholder:w.value,onInput:tt,onFocus:$t,onBlur:kt},null,40,Ln),[[Mt,te.value]]),te.value?(p(),f("button",{key:0,class:"clear-search",onClick:at},d[12]||(d[12]=[e("span",null,"×",-1)]))):F("",!0)]),e("div",{class:"search-actions"},[d[14]||(d[14]=e("button",{class:"btn-filter",title:"Advanced Filters"},[e("span",null,"Filters")],-1)),e("button",{class:"btn-refresh",onClick:U,title:"Refresh Data"},d[13]||(d[13]=[e("span",null,"⟳",-1)]))])])]),e("div",Un,[N.value?(p(),f("div",zn,[d[15]||(d[15]=Pt('<div class="loading-container" data-v-8c2c9cb3><div class="loading-spinner-enhanced" data-v-8c2c9cb3><div class="spinner-ring ring-1" data-v-8c2c9cb3></div><div class="spinner-ring ring-2" data-v-8c2c9cb3></div><div class="loading-core" data-v-8c2c9cb3><div class="core-dot" data-v-8c2c9cb3></div></div></div><div class="loading-dots" data-v-8c2c9cb3><span class="dot dot-1" data-v-8c2c9cb3></span><span class="dot dot-2" data-v-8c2c9cb3></span><span class="dot dot-3" data-v-8c2c9cb3></span></div></div>',1)),e("p",On,t(M.value),1),d[16]||(d[16]=e("div",{class:"loading-progress"},[e("div",{class:"progress-bar"})],-1))])):Z.value.length===0?(p(),f("div",Jn,[d[17]||(d[17]=e("div",{class:"empty-icon"},"📋",-1)),e("h3",null,t(P.value),1),e("p",null,t(R.value),1)])):F("",!0),N.value?F("",!0):(p(),f("div",Hn,[e("table",Gn,[e("thead",null,[e("tr",Wn,[e("th",Kn,t(V.value.actions),1),e("th",Qn,t(V.value.code),1),e("th",Zn,t(V.value.requestedBy),1),e("th",Yn,t(V.value.description),1),e("th",Xn,t(V.value.requestDate),1),e("th",el,t(V.value.transactionDate),1),e("th",tl,t(V.value.track),1),e("th",al,t(V.value.status),1),e("th",ol,t(V.value.attachments),1),C.value?(p(),f("th",sl,t(V.value.rejection),1)):F("",!0)])]),e("tbody",null,[(p(!0),f(X,null,_e(Z.value,c=>(p(),f("tr",{key:c.transaction_id,class:A(["table-row",Ke(c.status)]),onMouseenter:wt},[e("td",nl,[e("div",ll,[e("button",{class:A(["action-btn edit-btn",{disabled:c.status.toLowerCase()!=="pending"}]),onClick:ne=>c.status.toLowerCase()==="pending"?ct(c):null,disabled:c.status.toLowerCase()!=="pending",title:c.status.toLowerCase()==="pending"?"Edit":"Cannot edit non-pending items"},[x(z(Ft),{size:16})],10,rl),e("button",{class:A(["action-btn delete-btn",{disabled:c.status.toLowerCase()!=="pending"}]),onClick:ne=>c.status.toLowerCase()==="pending"?dt(c):null,disabled:c.status.toLowerCase()!=="pending",title:c.status.toLowerCase()==="pending"?"Delete":"Cannot delete non-pending items"},[x(z(xt),{size:16})],10,il)])]),e("td",ul,[x(K,{to:Qe(c),class:"code-link",onClick:ne=>et(c)},{default:Je(()=>[Rt(t(c.code),1)]),_:2},1032,["to","onClick"])]),e("td",cl,t(c.requested_by),1),e("td",dl,[e("button",{class:"description-btn",onClick:ne=>ut(c),title:"View full description"},[x(z(Et),{size:16})],8,vl)]),e("td",pl,t(Ge(c.request_date)),1),e("td",fl,t(c.transaction_date),1),e("td",hl,[e("button",{class:"track-btn",onClick:d[1]||(d[1]=ne=>mt())},"Track")]),e("td",ml,[e("span",{class:A(["status-badge","status-"+c.status.toLowerCase()]),onClick:ne=>ft(c),role:"button"},t(c.status),11,_l)]),e("td",bl,[e("button",{class:"attachment-btn",onClick:ne=>pt(c),title:Ze(c)}," Attachments ",8,gl)]),C.value?(p(),f("td",yl,[e("button",{class:A(["rejection-btn",{disabled:!de(c)}]),onClick:ne=>de(c)?ht(c):null,disabled:!de(c),title:Ye(c)},t(Xe(c)),11,$l)])):F("",!0)],34))),128))])])]))]),!N.value&&Z.value.length>0?(p(),f("div",kl,[e("div",wl,[e("span",Cl,t(G.value),1),e("div",Dl,[d[19]||(d[19]=e("span",null,"Items per page:",-1)),re(e("select",{class:"page-size-select","onUpdate:modelValue":d[2]||(d[2]=c=>ce.value=c),onChange:it},d[18]||(d[18]=[e("option",{value:"6"},"6",-1),e("option",{value:"12"},"12",-1),e("option",{value:"24"},"24",-1),e("option",{value:"50"},"50",-1)]),544),[[ve,ce.value]])])]),e("div",Tl,[e("button",{class:"pagination-btn pagination-btn-first",onClick:nt,disabled:q.value===1,title:"First Page"}," ⟪ ",8,Ml),e("button",{class:"pagination-btn pagination-btn-prev",onClick:st,disabled:q.value===1,title:"Previous Page"}," ⟨ ",8,Pl),e("div",Rl,[(p(!0),f(X,null,_e(He.value,c=>(p(),f("button",{key:c,class:A(["pagination-btn page-number",{active:c===q.value,ellipsis:c===-1}]),onClick:ne=>rt(c),disabled:c===-1},t(c===-1?"...":c),11,Al))),128))]),e("button",{class:"pagination-btn pagination-btn-next",onClick:ot,disabled:q.value>=le.value,title:"Next Page"}," ⟩ ",8,El),e("button",{class:"pagination-btn pagination-btn-last",onClick:lt,disabled:q.value>=le.value,title:"Last Page"}," ⟫ ",8,Sl)])])):F("",!0),(p(),Be(Ne(a.value),{modelValue:se.value,"onUpdate:modelValue":d[3]||(d[3]=c=>se.value=c),onSubmit:bt},null,40,["modelValue"])),(p(),Be(Ne(j.value),{modelValue:ge.value,"onUpdate:modelValue":d[4]||(d[4]=c=>ge.value=c),"transfer-data":Se.value,onSubmit:gt},null,40,["modelValue","transfer-data"])),x(_s,{show:ye.value,"onUpdate:show":d[5]||(d[5]=c=>ye.value=c),transactionId:qe.value,status:Fe.value,onFilesUpdated:yt},null,8,["show","transactionId","status"]),x(Ys,{modelValue:$e.value,"onUpdate:modelValue":d[6]||(d[6]=c=>$e.value=c),"approval-data":xe.value},null,8,["modelValue","approval-data"]),x(yn,{modelValue:ke.value,"onUpdate:modelValue":d[7]||(d[7]=c=>ke.value=c),"rejection-id":je.value},null,8,["modelValue","rejection-id"]),x(Mn,{modelValue:we.value,"onUpdate:modelValue":d[8]||(d[8]=c=>we.value=c)},null,8,["modelValue"]),x(ie,{modelValue:Ce.value,"onUpdate:modelValue":d[9]||(d[9]=c=>Ce.value=c),type:Ve.value,message:Ie.value,timer:3e3},null,8,["modelValue","type","message"]),me.value?(p(),f("div",{key:1,class:"modal-overlay",onClick:Te},[e("div",{class:"modal-container delete-modal",onClick:d[10]||(d[10]=O(()=>{},["stop"]))},[e("div",ql,[e("h3",null,t(S.value),1),e("button",{class:"close-modal",onClick:Te},"×")]),e("div",Fl,[e("p",null,t(k.value),1)]),e("div",xl,[e("button",{class:"btn-secondary",onClick:Te},t(v.value),1),e("button",{class:"btn-danger",onClick:vt},t(m.value),1)])])])):F("",!0),be.value?(p(),f("div",{key:2,class:"modal-overlay",onClick:De},[e("div",{class:"modal-container desc-modal",onClick:d[11]||(d[11]=O(()=>{},["stop"]))},[e("div",jl,[e("h3",null,t(T.value),1),e("button",{class:"close-modal",onClick:De},"×")]),e("div",Vl,[e("div",{class:"description-content",innerHTML:We(Ee.value)},null,8,Il)]),e("div",Bl,[e("button",{class:"btn-secondary",onClick:De},t(B.value),1)])])])):F("",!0)],10,En)}}}),Wl=oe(Nl,[["__scopeId","data-v-8c2c9cb3"]]);export{Wl as default};
