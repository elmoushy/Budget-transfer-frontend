import{c as Ve,d as oe,r as n,u as ee,z as T,w as J,e as p,h as F,H as V,f as e,t,b as ve,I as _e,n as j,l as L,Q as he,m as U,F as X,s as me,q as d,y as se,D as we,o as Ze,T as Et,J as Ye,x as Q,a as Z,K as At,B as St,k as Fe,v as jt,L as qt,i as Ft,M as xt,N as Vt,O as We,P as Bt}from"./index-B1Dgt89H.js";import{F as ue,t as Ce,I as It,u as Nt}from"./TransferService-DRKls5Sp.js";import{S as Ut,T as zt}from"./trash-jtbtuQXH.js";import"./check-Ct824eoE.js";/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ot=Ve("cloud-upload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lt=Ve("download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-vue-next v0.503.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ge=Ve("file",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}]]),Jt={class:"modal-header"},Ht={class:"modal-body"},Wt={class:"form-group"},Gt={for:"timePeriod",class:"required"},Kt={class:"select-wrapper"},Qt={value:"",disabled:""},Zt={value:"Jan"},Yt={value:"Feb"},Xt={value:"Mar"},ea={value:"Apr"},ta={value:"May"},aa={value:"Jun"},oa={value:"Jul"},sa={value:"Aug"},na={value:"Sep"},la={value:"Oct"},ra={value:"Nov"},ia={value:"Dec"},ua={class:"form-group"},ca={for:"transferReason",class:"required"},da={key:0,class:"error-message"},va={class:"modal-footer"},pa=oe({__name:"NewRequestModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:g}){const s=u,$=g,r=n("<p>Enter your reason here...</p>"),f=n(!1),i=n({timePeriod:"",transferReason:""}),S=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:S}},D=ee(),a=T(()=>D.language==="ar"),h=T(()=>D.darkMode),b=n(!1),m=n("info"),y=n(""),M=n("");function E(){A(),$("update:modelValue",!1)}function A(){i.value={timePeriod:"",transferReason:""},r.value="<p>Enter your reason here...</p>",f.value=!1}async function x(){const k=r.value==="<p>Enter your reason here...</p>"||r.value==="<p><br></p>"||r.value==="";if(!i.value.timePeriod||k){k&&(f.value=!0),m.value="warning",y.value=a.value?"تنبيه!":"Warning!",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",b.value=!0;return}f.value=!1;try{const v={transaction_date:i.value.timePeriod,notes:r.value,type:"FAR"},_=await me.transfers.createTransfer(v);$("submit",_.data),E()}catch(v){console.error("Error creating transfer request:",v),m.value="error",y.value=a.value?"خطأ!":"Error!",M.value=a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request",b.value=!0}}return J(()=>s.modelValue,k=>{k&&A()}),(k,v)=>(d(),p(X,null,[u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:E},[e("div",{class:j(["modal-container",{"dark-mode":h.value}]),onClick:v[2]||(v[2]=U(()=>{},["stop"]))},[e("div",Jt,[e("h2",null,t(a.value?"طلب مناقلة جديد":"New Transfer Request"),1),e("button",{class:"close-modal",onClick:E},"×")]),e("div",Ht,[e("div",Wt,[e("label",Gt,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",Kt,[ve(e("select",{id:"timePeriod","onUpdate:modelValue":v[0]||(v[0]=_=>i.value.timePeriod=_),required:""},[e("option",Qt,t(a.value?"اختر فترة":"Select period"),1),e("option",Zt,t(a.value?"يناير":"January"),1),e("option",Yt,t(a.value?"فبراير":"February"),1),e("option",Xt,t(a.value?"مارس":"March"),1),e("option",ea,t(a.value?"أبريل":"April"),1),e("option",ta,t(a.value?"مايو":"May"),1),e("option",aa,t(a.value?"يونيو":"June"),1),e("option",oa,t(a.value?"يوليو":"July"),1),e("option",sa,t(a.value?"أغسطس":"August"),1),e("option",na,t(a.value?"سبتمبر":"September"),1),e("option",la,t(a.value?"أكتوبر":"October"),1),e("option",ra,t(a.value?"نوفمبر":"November"),1),e("option",ia,t(a.value?"ديسمبر":"December"),1)],512),[[_e,i.value.timePeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",ua,[e("label",ca,t(a.value?"سبب المناقلة":"Reason for Transfer"),1),V(L(he),{content:r.value,"onUpdate:content":v[1]||(v[1]=_=>r.value=_),toolbar:S,contentType:"html",theme:"snow",options:w,class:j(["transfer-editor",{"editor-error":f.value}])},null,8,["content","class"]),f.value?(d(),p("div",da,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",va,[e("button",{class:"btn-secondary",onClick:E},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:x},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),V(ue,{show:b.value,"onUpdate:show":v[3]||(v[3]=_=>b.value=_),type:m.value,title:y.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),Ke=se(pa,[["__scopeId","data-v-60a1c7bf"]]),fa={class:"modal-header"},_a={class:"modal-body"},ha={class:"form-group"},ma={for:"timePeriod",class:"required"},ba={class:"select-wrapper"},ya={value:"",disabled:""},ga={value:"Jan"},$a={value:"Feb"},ka={value:"Mar"},wa={value:"Apr"},Ca={value:"May"},Da={value:"Jun"},Ra={value:"Jul"},Ta={value:"Aug"},Ma={value:"Sep"},Pa={value:"Oct"},Ea={value:"Nov"},Aa={value:"Dec"},Sa={class:"form-group"},ja={for:"enhancementReason",class:"required"},qa={key:0,class:"error-message"},Fa={class:"modal-footer"},xa=oe({__name:"EnhancementsRequestModel",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:g}){const s=u,$=g,r=n("<p>Enter your reason here...</p>"),f=n(!1),i=n({timePeriod:"",enhancementReason:""}),S=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:S}},D=ee(),a=T(()=>D.language==="ar"),h=T(()=>D.darkMode),b=n(!1),m=n("info"),y=n(""),M=n("");function E(){m.value="warning",y.value=a.value?"تحقق من البيانات":"Validation Error",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",b.value=!0}function A(_){console.error("Error creating enhancement request:",_),m.value="error",y.value=a.value?"خطأ!":"Error!",M.value=a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request",b.value=!0}function x(){k(),$("update:modelValue",!1)}function k(){i.value={timePeriod:"",enhancementReason:""},r.value="<p></p>",f.value=!1}async function v(){const _=r.value==="<p></p>"||r.value==="<p><br></p>"||r.value==="";if(!i.value.timePeriod||_){_&&(f.value=!0),E();return}f.value=!1;try{const R={transaction_date:i.value.timePeriod,notes:r.value,type:"AFR"},q=await me.transfers.createTransfer(R);$("submit",q),x()}catch(R){A(R)}}return J(()=>s.modelValue,_=>{_&&k()}),(_,R)=>(d(),p(X,null,[u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:x},[e("div",{class:j(["modal-container",{"dark-mode":h.value}]),onClick:R[2]||(R[2]=U(()=>{},["stop"]))},[e("div",fa,[e("h2",null,t(a.value?"طلب تعزيز جديد":"New Enhancement Request"),1),e("button",{class:"close-modal",onClick:x},"×")]),e("div",_a,[e("div",ha,[e("label",ma,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",ba,[ve(e("select",{id:"timePeriod","onUpdate:modelValue":R[0]||(R[0]=q=>i.value.timePeriod=q),required:""},[e("option",ya,t(a.value?"اختر فترة":"Select period"),1),e("option",ga,t(a.value?"يناير":"January"),1),e("option",$a,t(a.value?"فبراير":"February"),1),e("option",ka,t(a.value?"مارس":"March"),1),e("option",wa,t(a.value?"أبريل":"April"),1),e("option",Ca,t(a.value?"مايو":"May"),1),e("option",Da,t(a.value?"يونيو":"June"),1),e("option",Ra,t(a.value?"يوليو":"July"),1),e("option",Ta,t(a.value?"أغسطس":"August"),1),e("option",Ma,t(a.value?"سبتمبر":"September"),1),e("option",Pa,t(a.value?"أكتوبر":"October"),1),e("option",Ea,t(a.value?"نوفمبر":"November"),1),e("option",Aa,t(a.value?"ديسمبر":"December"),1)],512),[[_e,i.value.timePeriod]]),R[4]||(R[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",Sa,[e("label",ja,t(a.value?"سبب التعزيز":"Reason for Enhancement"),1),V(L(he),{content:r.value,"onUpdate:content":R[1]||(R[1]=q=>r.value=q),toolbar:S,contentType:"html",theme:"snow",options:w,class:j(["transfer-editor",{"editor-error":f.value}])},null,8,["content","class"]),f.value?(d(),p("div",qa,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Fa,[e("button",{class:"btn-secondary",onClick:x},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:v},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),V(ue,{show:b.value,"onUpdate:show":R[3]||(R[3]=q=>b.value=q),type:m.value,title:y.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),Va=se(xa,[["__scopeId","data-v-541acc7f"]]),Ba={class:"modal-header"},Ia={class:"modal-body"},Na={class:"form-group"},Ua={for:"timePeriod",class:"required"},za={class:"select-wrapper"},Oa={value:"",disabled:""},La={value:"Jan"},Ja={value:"Feb"},Ha={value:"Mar"},Wa={value:"Apr"},Ga={value:"May"},Ka={value:"Jun"},Qa={value:"Jul"},Za={value:"Aug"},Ya={value:"Sep"},Xa={value:"Oct"},eo={value:"Nov"},to={value:"Dec"},ao={class:"form-group"},oo={for:"contractReason",class:"required"},so={key:0,class:"error-message"},no={class:"modal-footer"},lo=oe({__name:"NewContractModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue","submit"],setup(u,{emit:g}){const s=u,$=g,r=n("<p>Enter your reason here...</p>"),f=n(!1),i=n({timePeriod:"",contractReason:""}),S=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:S}},D=ee(),a=T(()=>D.language==="ar"),h=T(()=>D.darkMode),b=n(!1),m=n("info"),y=n(""),M=n(""),E=(v,_="info")=>{let R="";return _==="error"?R=a.value?"خطأ!":"Error!":_==="success"?R=a.value?"تم!":"Success!":_==="warning"?R=a.value?"تنبيه!":"Warning!":R=a.value?"معلومات":"Information",y.value=R,M.value=v,m.value=_,b.value=!0,new Promise(q=>{const z=setInterval(()=>{b.value||(clearInterval(z),q(!0))},100)})};function A(){x(),$("update:modelValue",!1)}function x(){i.value={timePeriod:"",contractReason:""},r.value="<p>Enter your reason here...</p>",f.value=!1}async function k(){const v=r.value==="<p>Enter your reason here...</p>"||r.value==="<p><br></p>"||r.value==="";if(!i.value.timePeriod||v){v&&(f.value=!0),E(a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields","warning");return}f.value=!1;try{const _={transaction_date:i.value.timePeriod,notes:r.value,type:"FAD"},R=await me.transfers.createTransfer(_);$("submit",R),A(),E(a.value?"تم إنشاء طلب العقد بنجاح":"Contract request created successfully","success")}catch(_){console.error("Error creating contract request:",_),E(a.value?"حدث خطأ أثناء إنشاء الطلب":"Error creating request","error")}}return J(()=>s.modelValue,v=>{v&&x()}),(v,_)=>(d(),p(X,null,[u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:A},[e("div",{class:j(["modal-container",{"dark-mode":h.value}]),onClick:_[2]||(_[2]=U(()=>{},["stop"]))},[e("div",Ba,[e("h2",null,t(a.value?"طلب عقد جديد":"New Contract Request"),1),e("button",{class:"close-modal",onClick:A},"×")]),e("div",Ia,[e("div",Na,[e("label",Ua,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",za,[ve(e("select",{id:"timePeriod","onUpdate:modelValue":_[0]||(_[0]=R=>i.value.timePeriod=R),required:""},[e("option",Oa,t(a.value?"اختر فترة":"Select period"),1),e("option",La,t(a.value?"يناير":"January"),1),e("option",Ja,t(a.value?"فبراير":"February"),1),e("option",Ha,t(a.value?"مارس":"March"),1),e("option",Wa,t(a.value?"أبريل":"April"),1),e("option",Ga,t(a.value?"مايو":"May"),1),e("option",Ka,t(a.value?"يونيو":"June"),1),e("option",Qa,t(a.value?"يوليو":"July"),1),e("option",Za,t(a.value?"أغسطس":"August"),1),e("option",Ya,t(a.value?"سبتمبر":"September"),1),e("option",Xa,t(a.value?"أكتوبر":"October"),1),e("option",eo,t(a.value?"نوفمبر":"November"),1),e("option",to,t(a.value?"ديسمبر":"December"),1)],512),[[_e,i.value.timePeriod]]),_[4]||(_[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",ao,[e("label",oo,t(a.value?"سبب العقد":"Reason for Contract"),1),V(L(he),{content:r.value,"onUpdate:content":_[1]||(_[1]=R=>r.value=R),toolbar:S,contentType:"html",theme:"snow",options:w,class:j(["transfer-editor",{"editor-error":f.value}])},null,8,["content","class"]),f.value?(d(),p("div",so,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",no,[e("button",{class:"btn-secondary",onClick:A},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:k},t(a.value?"إنشاء":"Create"),1)])],2)])):F("",!0),V(ue,{show:b.value,"onUpdate:show":_[3]||(_[3]=R=>b.value=R),type:m.value,title:y.value,message:M.value,timer:3e3},null,8,["show","type","title","message"])],64))}}),ro=se(lo,[["__scopeId","data-v-d2960448"]]),io={class:"modal-header"},uo={class:"modal-body"},co={class:"form-group"},vo={for:"timePeriod",class:"required"},po={class:"select-wrapper"},fo={value:"",disabled:""},_o={value:"Jan"},ho={value:"Feb"},mo={value:"Mar"},bo={value:"Apr"},yo={value:"May"},go={value:"Jun"},$o={value:"Jul"},ko={value:"Aug"},wo={value:"Sep"},Co={value:"Oct"},Do={value:"Nov"},Ro={value:"Dec"},To={class:"form-group"},Mo={for:"transferReason",class:"required"},Po={key:0,class:"error-message"},Eo={class:"modal-footer"},Ao=oe({__name:"EditTransferModal",props:{modelValue:{type:Boolean,default:!1},transferData:{type:Object,required:!1,default:()=>({})}},emits:["update:modelValue","submit"],setup(u,{emit:g}){const s=u,$=g,r=n(""),f=n(!1),i=n({timePeriod:"",transferId:null}),S=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter your reason here...",modules:{toolbar:S}},D=ee(),a=T(()=>D.language==="ar"),h=T(()=>D.darkMode);function b(){$("update:modelValue",!1)}J(()=>s.transferData,k=>{k&&Object.keys(k).length>0&&(i.value.timePeriod=k.transaction_date||"",i.value.transferId=k.transaction_id,r.value=k.notes||"<p>Enter your reason here...</p>")},{immediate:!0,deep:!0}),J(()=>s.modelValue,k=>{k&&s.transferData&&(i.value.timePeriod=s.transferData.transaction_date||"",i.value.transferId=s.transferData.transaction_id,r.value=s.transferData.notes||"<p>Enter your reason here...</p>")});const m=n(!1),y=n("success"),M=n(""),E=n(""),A=n(3e3);async function x(){const k=r.value==="<p>Enter your reason here...</p>"||r.value==="<p><br></p>"||r.value==="";if(!i.value.timePeriod||k){k&&(f.value=!0),y.value="warning",M.value=a.value?"تنبيه":"Warning",E.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",A.value=0,m.value=!0;return}f.value=!1;try{const v={transaction_date:i.value.timePeriod,notes:r.value,type:"FAR"},_=await me.transfers.updateTransfer(i.value.transferId,v);y.value="success",M.value=a.value?"تم بنجاح":"Success",E.value=a.value?"تم تحديث طلب المناقلة بنجاح":"Transfer request updated successfully",A.value=3e3,m.value=!0,$("submit",_.data),b()}catch(v){console.error("Error updating transfer request:",v),y.value="error",M.value=a.value?"خطأ":"Error",E.value=a.value?"حدث خطأ أثناء تحديث الطلب":"Error updating request",A.value=0,m.value=!0}}return(k,v)=>(d(),p(X,null,[u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:b},[e("div",{class:j(["modal-container",{"dark-mode":h.value}]),onClick:v[2]||(v[2]=U(()=>{},["stop"]))},[e("div",io,[e("h2",null,t(a.value?"تعديل المناقلة":"Edit Transfer"),1),e("button",{class:"close-modal",onClick:b},"×")]),e("div",uo,[e("div",co,[e("label",vo,t(a.value?"الفترة الزمنية":"Time Period"),1),e("div",po,[ve(e("select",{id:"timePeriod","onUpdate:modelValue":v[0]||(v[0]=_=>i.value.timePeriod=_),required:""},[e("option",fo,t(a.value?"اختر فترة":"Select period"),1),e("option",_o,t(a.value?"يناير":"January"),1),e("option",ho,t(a.value?"فبراير":"February"),1),e("option",mo,t(a.value?"مارس":"March"),1),e("option",bo,t(a.value?"أبريل":"April"),1),e("option",yo,t(a.value?"مايو":"May"),1),e("option",go,t(a.value?"يونيو":"June"),1),e("option",$o,t(a.value?"يوليو":"July"),1),e("option",ko,t(a.value?"أغسطس":"August"),1),e("option",wo,t(a.value?"سبتمبر":"September"),1),e("option",Co,t(a.value?"أكتوبر":"October"),1),e("option",Do,t(a.value?"نوفمبر":"November"),1),e("option",Ro,t(a.value?"ديسمبر":"December"),1)],512),[[_e,i.value.timePeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",To,[e("label",Mo,t(a.value?"سبب المناقلة":"Reason for Transfer"),1),V(L(he),{content:r.value,"onUpdate:content":v[1]||(v[1]=_=>r.value=_),toolbar:S,contentType:"html",theme:"snow",options:w,class:j(["transfer-editor",{"editor-error":f.value}])},null,8,["content","class"]),f.value?(d(),p("div",Po,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Eo,[e("button",{class:"btn-secondary",onClick:b},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:x},t(a.value?"حفظ التغييرات":"Save Changes"),1)])],2)])):F("",!0),V(ue,{show:m.value,"onUpdate:show":v[3]||(v[3]=_=>m.value=_),type:y.value,title:M.value,message:E.value,timer:A.value,showConfirmButton:!0,confirmButtonText:a.value?"حسناً":"OK"},null,8,["show","type","title","message","timer","confirmButtonText"])],64))}}),xe=se(Ao,[["__scopeId","data-v-713b316e"]]),So={class:"modal-header"},jo={class:"modal-body"},qo={class:"form-group"},Fo={for:"contractPeriod",class:"required"},xo={class:"select-wrapper"},Vo={value:"",disabled:""},Bo={value:"Jan"},Io={value:"Feb"},No={value:"Mar"},Uo={value:"Apr"},zo={value:"May"},Oo={value:"Jun"},Lo={value:"Jul"},Jo={value:"Aug"},Ho={value:"Sep"},Wo={value:"Oct"},Go={value:"Nov"},Ko={value:"Dec"},Qo={class:"form-group"},Zo={for:"contractDescription",class:"required"},Yo={key:0,class:"error-message"},Xo={class:"modal-footer"},es=oe({__name:"EditContractModal",props:{modelValue:{type:Boolean,default:!1},contractData:{type:Object,required:!0,default:()=>({})}},emits:["update:modelValue","submit"],setup(u,{emit:g}){const s=u,$=g,r=n(""),f=n(!1),i=n({contractPeriod:"",contractId:null}),S=[["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{align:[]}],["clean"]],w={placeholder:"Enter contract description here...",modules:{toolbar:S}},D=ee(),a=T(()=>D.language==="ar"),h=T(()=>D.darkMode),b=n(!1),m=n("success"),y=n(""),M=n(""),E=n(3e3);function A(){$("update:modelValue",!1)}J(()=>s.contractData,k=>{k&&Object.keys(k).length>0&&(i.value.contractPeriod=k.transaction_date||"",i.value.contractId=k.transaction_id,r.value=k.notes||"<p>Enter contract description here...</p>")},{immediate:!0,deep:!0}),J(()=>s.modelValue,k=>{k&&s.contractData&&(i.value.contractPeriod=s.contractData.transaction_date||"",i.value.contractId=s.contractData.transaction_id,r.value=s.contractData.notes||"<p>Enter contract description here...</p>")});async function x(){const k=r.value==="<p>Enter contract description here...</p>"||r.value==="<p><br></p>"||r.value==="";if(!i.value.contractPeriod||k){k&&(f.value=!0),m.value="warning",y.value=a.value?"تنبيه":"Attention",M.value=a.value?"يرجى ملء جميع الحقول المطلوبة":"Please fill all required fields",E.value=0,b.value=!0;return}f.value=!1;try{const v={transaction_date:i.value.contractPeriod,notes:r.value,type:"CTR"},_=await me.transfers.updateTransfer(i.value.contractId,v);m.value="success",y.value=a.value?"تم بنجاح":"Success",M.value=a.value?"تم تحديث العقد بنجاح":"Contract updated successfully",E.value=3e3,b.value=!0,$("submit",_.data),A()}catch(v){console.error("Error updating contract:",v),m.value="error",y.value=a.value?"خطأ":"Error",M.value=a.value?"حدث خطأ أثناء تحديث العقد":"Error updating contract",E.value=0,b.value=!0}}return(k,v)=>(d(),p(X,null,[u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:A},[e("div",{class:j(["modal-container",{"dark-mode":h.value}]),onClick:v[2]||(v[2]=U(()=>{},["stop"]))},[e("div",So,[e("h2",null,t(a.value?"تحرير العقد":"Edit Contract"),1),e("button",{class:"close-modal",onClick:A},"×")]),e("div",jo,[e("div",qo,[e("label",Fo,t(a.value?"فترة العقد":"Contract Period"),1),e("div",xo,[ve(e("select",{id:"contractPeriod","onUpdate:modelValue":v[0]||(v[0]=_=>i.value.contractPeriod=_),required:""},[e("option",Vo,t(a.value?"اختر فترة":"Select period"),1),e("option",Bo,t(a.value?"يناير":"January"),1),e("option",Io,t(a.value?"فبراير":"February"),1),e("option",No,t(a.value?"مارس":"March"),1),e("option",Uo,t(a.value?"أبريل":"April"),1),e("option",zo,t(a.value?"مايو":"May"),1),e("option",Oo,t(a.value?"يونيو":"June"),1),e("option",Lo,t(a.value?"يوليو":"July"),1),e("option",Jo,t(a.value?"أغسطس":"August"),1),e("option",Ho,t(a.value?"سبتمبر":"September"),1),e("option",Wo,t(a.value?"أكتوبر":"October"),1),e("option",Go,t(a.value?"نوفمبر":"November"),1),e("option",Ko,t(a.value?"ديسمبر":"December"),1)],512),[[_e,i.value.contractPeriod]]),v[4]||(v[4]=e("div",{class:"select-arrow"},"▼",-1))])]),e("div",Qo,[e("label",Zo,t(a.value?"وصف العقد":"Contract Description"),1),V(L(he),{content:r.value,"onUpdate:content":v[1]||(v[1]=_=>r.value=_),toolbar:S,contentType:"html",theme:"snow",options:w,class:j(["transfer-editor",{"editor-error":f.value}])},null,8,["content","class"]),f.value?(d(),p("div",Yo,t(a.value?"هذا الحقل مطلوب":"This field is required"),1)):F("",!0)])]),e("div",Xo,[e("button",{class:"btn-secondary",onClick:A},t(a.value?"إلغاء":"Cancel"),1),e("button",{class:"btn-primary submit-btn",onClick:x},t(a.value?"حفظ التغييرات":"Save Changes"),1)])],2)])):F("",!0),V(ue,{show:b.value,"onUpdate:show":v[3]||(v[3]=_=>b.value=_),type:m.value,title:y.value,message:M.value,timer:E.value,showConfirmButton:!0,confirmButtonText:a.value?"حسناً":"OK"},null,8,["show","type","title","message","timer","confirmButtonText"])],64))}}),ts=se(es,[["__scopeId","data-v-7b141b7d"]]),as={class:"modal-header"},os={class:"modal-body file-modal-body"},ss={key:0,class:"file-upload-section"},ns=["accept"],ls={class:"drop-zone-content"},rs={class:"file-types"},is={key:0,class:"selected-file"},us={key:1,class:"file-error"},cs=["disabled"],ds={key:0},vs={key:1},ps={key:1,class:"read-only-notice"},fs={class:"file-list-section"},_s={key:0,class:"loading-files"},hs={key:1,class:"no-files"},ms={key:2,class:"file-list"},bs={class:"file-info"},ys={class:"file-name"},gs={class:"file-size"},$s={class:"file-date"},ks={class:"file-actions"},ws=["onClick"],Cs={__name:"AttachmentModal",props:{show:{type:Boolean,default:!1},transactionId:{type:Number,default:0},status:{type:String,default:"pending"}},emits:["update:show","files-updated"],setup(u,{emit:g}){const s=u,$=g,r=ee(),f=n(!1),i=n(!1),S=n([]),w=n(!1),D=n(null),a=n(null),h=n(!1),b=n(!1),m=n(""),y=n([".xlsx",".pdf",".doc",".docx",".xls"]);J(()=>r.darkMode,C=>{f.value=C},{immediate:!0}),J(()=>r.language,C=>{i.value=C==="ar"},{immediate:!0}),J(()=>s.transactionId,C=>{C&&s.show&&x()});function M(C){return C?new Date(C).toLocaleDateString():""}function E(C){return C<1024?C+" B":C<1024*1024?(C/1024).toFixed(1)+" KB":(C/(1024*1024)).toFixed(1)+" MB"}function A(){$("update:show",!1),R()}async function x(){if(s.transactionId){w.value=!0;try{const C=await Ce.listFiles(s.transactionId);C&&C.attachments?S.value=C.attachments:S.value=[]}catch(C){console.error("Error loading files:",C),S.value=[]}finally{w.value=!1}}}function k(C){const I=C.target.files[0];I&&_(I)}function v(C){h.value=!1;const I=C.dataTransfer.files[0];I&&_(I)}function _(C){if(C.size>20971520){m.value=i.value?"حجم الملف كبير جدًا. الحد الأقصى هو 5 ميغابايت.":"File is too large. Maximum size is 5MB.";return}const P="."+C.name.split(".").pop().toLowerCase();if(!y.value.includes(P)){m.value=i.value?"نوع الملف غير مدعوم. الأنواع المدعومة هي: .xlsx، .pdf، .doc، .docx":"File type not allowed. Allowed types are: .xlsx, .pdf, .doc, .docx";return}m.value="",D.value=C}function R(){D.value=null,m.value="",a.value&&(a.value.value="")}const q=n(!1),z=n("success"),N=n(""),G=n("");async function K(){if(!(!D.value||!s.transactionId)){b.value=!0;try{await Ce.uploadFile(D.value,s.transactionId),R(),x(),$("files-updated"),z.value="success",N.value=i.value?"تم بنجاح!":"Success!",G.value=i.value?"تم تحميل الملف بنجاح":"File uploaded successfully",q.value=!0}catch(C){console.error("Error uploading file:",C),m.value=i.value?"حدث خطأ أثناء تحميل الملف. يرجى المحاولة مرة أخرى.":"Error uploading file. Please try again."}finally{b.value=!1}}}function H(C){const I=atob(C.file_data),P=I.length,pe=new Uint8Array(P);for(let le=0;le<P;le++)pe[le]=I.charCodeAt(le);const ne=new Blob([pe],{type:C.file_type}),te=URL.createObjectURL(ne),ae=document.createElement("a");ae.href=te,ae.download=C.file_name,document.body.appendChild(ae),ae.click(),document.body.removeChild(ae),URL.revokeObjectURL(te)}return(C,I)=>(d(),p(X,null,[u.show?(d(),p("div",{key:0,class:"modal-overlay",onClick:A},[e("div",{class:j(["file-modal-container",{"dark-mode":f.value}]),onClick:I[3]||(I[3]=U(()=>{},["stop"]))},[e("div",as,[e("h2",null,t(i.value?"إدارة المرفقات":"Manage Attachments"),1),e("button",{class:"close-modal",onClick:A},"×")]),e("div",os,[u.status.toLowerCase()==="waiting-to-submit"?(d(),p("div",ss,[e("h3",null,t(i.value?"تحميل ملف جديد":"Upload New File"),1),e("div",{class:j(["file-drop-zone",{"file-drop-active":h.value}]),onDragover:I[1]||(I[1]=U(P=>h.value=!0,["prevent"])),onDragleave:I[2]||(I[2]=P=>h.value=!1),onDrop:U(v,["prevent"])},[e("input",{type:"file",ref_key:"fileInput",ref:a,onChange:k,class:"file-input",accept:y.value.join(",")},null,40,ns),e("div",ls,[V(L(Ot),{size:"48"}),e("p",null,t(i.value?"اسحب وأفلت الملف هنا أو":"Drag and drop files here or"),1),e("button",{class:"btn-secondary",onClick:I[0]||(I[0]=P=>C.$refs.fileInput.click())},t(i.value?"اختر ملفًا":"Browse files"),1),e("p",rs,t(i.value?"الملفات المسموح بها":"Allowed files")+": .xlsx, .pdf, .doc, .docx ",1)]),D.value?(d(),p("div",is,[V(L(Ge),{size:"18"}),e("span",null,t(D.value.name),1),e("button",{class:"clear-file",onClick:U(R,["prevent"])},"×")])):F("",!0),m.value?(d(),p("div",us,t(m.value),1)):F("",!0)],34),e("button",{class:"btn-primary upload-btn",disabled:!D.value||b.value,onClick:K},[b.value?(d(),p("span",vs,t(i.value?"جاري التحميل...":"Uploading..."),1)):(d(),p("span",ds,t(i.value?"تحميل الملف":"Upload File"),1))],8,cs)])):(d(),p("div",ps,[V(L(It),{size:"18"}),e("p",null,t(i.value?"المرفقات للقراءة فقط. لا يمكن إضافة مرفقات جديدة بعد التقديم.":"Attachments are read-only. You cannot add new attachments after submission."),1)])),e("div",fs,[e("h3",null,t(i.value?"المرفقات الحالية":"Current Attachments"),1),w.value?(d(),p("div",_s,t(i.value?"جاري تحميل المرفقات...":"Loading attachments..."),1)):S.value.length===0?(d(),p("div",hs,t(i.value?"لا توجد مرفقات لهذه المعاملة":"No attachments for this transaction"),1)):(d(),p("ul",ms,[(d(!0),p(X,null,we(S.value,P=>(d(),p("li",{key:P.attachment_id,class:"file-item"},[e("div",bs,[V(L(Ge),{size:"18"}),e("span",ys,t(P.file_name),1),e("span",gs,t(E(P.file_size)),1),e("span",$s,t(M(P.upload_date)),1)]),e("div",ks,[e("button",{onClick:pe=>H(P),class:"icon-btn",title:"Download"},[V(L(Lt),{size:"18"})],8,ws)])]))),128))]))])])],2)])):F("",!0),V(ue,{show:q.value,"onUpdate:show":I[4]||(I[4]=P=>q.value=P),type:z.value,title:N.value,message:G.value,timer:3e3},null,8,["show","type","title","message"])],64))}},Ds={class:"modal-header"},Rs={class:"modal-body approval-pipeline-body"},Ts={key:0,class:"waiting-to-submit"},Ms={class:"waiting-message"},Ps={key:1,class:"approval-steps"},Es={class:"step-icon"},As={class:"step-content"},Ss={class:"step-title"},js={class:"step-approver"},qs={key:0,class:"step-date"},Fs={key:1,class:"step-status"},xs={key:2,class:"step-status rejected-text"},Vs={class:"step-icon"},Bs={class:"step-content"},Is={class:"step-title"},Ns={class:"step-approver"},Us={key:0,class:"step-date"},zs={key:1,class:"step-status"},Os={key:2,class:"step-status rejected-text"},Ls={class:"step-icon"},Js={class:"step-content"},Hs={class:"step-title"},Ws={class:"step-approver"},Gs={key:0,class:"step-date"},Ks={key:1,class:"step-status"},Qs={key:2,class:"step-status rejected-text"},Zs={class:"step-icon"},Ys={class:"step-content"},Xs={class:"step-title"},en={class:"step-approver"},tn={key:0,class:"step-date"},an={key:1,class:"step-status"},on={key:2,class:"step-status rejected-text"},sn=oe({__name:"ApprovalPipelineModal",props:{modelValue:{type:Boolean,default:!1},approvalData:{type:Object,required:!0,default:()=>({})}},emits:["update:modelValue"],setup(u,{emit:g}){const s=u,$=g,r=ee(),f=T(()=>r.language==="ar"),i=T(()=>r.darkMode),S=T(()=>{var b,m,y,M,E,A,x,k,v;return!((b=s.approvalData)!=null&&b.approvel_1)&&!((m=s.approvalData)!=null&&m.approvel_2)&&!((y=s.approvalData)!=null&&y.approvel_3)&&!((M=s.approvalData)!=null&&M.approvel_4)&&!((E=s.approvalData)!=null&&E.approvel_1_date)&&!((A=s.approvalData)!=null&&A.approvel_2_date)&&!((x=s.approvalData)!=null&&x.approvel_3_date)&&!((k=s.approvalData)!=null&&k.approvel_4_date)&&((v=s.approvalData)==null?void 0:v.status_level)===1});function w(b){var m,y,M,E,A,x,k,v,_,R,q;if(((m=s.approvalData)==null?void 0:m.status_level)===-1){if(b<4){let z,N,G;return b===1?(z=(y=s.approvalData)==null?void 0:y.approvel_1_date,N=(M=s.approvalData)==null?void 0:M.approvel_1,G=(E=s.approvalData)==null?void 0:E.approvel_2_date):b===2?(z=(A=s.approvalData)==null?void 0:A.approvel_2_date,N=(x=s.approvalData)==null?void 0:x.approvel_2,G=(k=s.approvalData)==null?void 0:k.approvel_3_date):(z=(v=s.approvalData)==null?void 0:v.approvel_3_date,N=(_=s.approvalData)==null?void 0:_.approvel_3,G=(R=s.approvalData)==null?void 0:R.approvel_4_date),!!z&&!!N&&!G}if(b===4)return!!((q=s.approvalData)!=null&&q.approvel_4_date)}return!1}function D(b){for(let m=1;m<b;m++)if(w(m))return!0;return!1}function a(){$("update:modelValue",!1)}function h(b){return b?new Date(b).toLocaleDateString():""}return(b,m)=>{var y,M,E,A,x,k,v,_,R,q,z,N,G,K,H,C;return u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:a},[e("div",{class:j(["approval-modal-container",{"dark-mode":i.value}]),onClick:m[0]||(m[0]=U(()=>{},["stop"]))},[e("div",Ds,[e("h2",null,t(f.value?"سير عملية الموافقة":"Approval Pipeline"),1),e("button",{class:"close-modal",onClick:a},"×")]),e("div",Rs,[S.value?(d(),p("div",Ts,[m[1]||(m[1]=e("div",{class:"waiting-icon"},[e("i",{class:"fas fa-clock"})],-1)),e("div",Ms,t(f.value?"في انتظار التقديم":"Waiting to submit"),1)])):(d(),p("div",Ps,[e("div",{class:j(["step-card",{approved:(y=u.approvalData)==null?void 0:y.approvel_1_date,pending:!((M=u.approvalData)!=null&&M.approvel_1_date),rejected:w(1),rtl:f.value}])},[e("div",Es,[e("i",{class:j(w(1)?"fas fa-times-circle":"fas fa-clipboard-check")},null,2)]),e("div",As,[e("div",Ss,t(f.value?"قسم التخطيط والموازنة":"Planning & Budget"),1),e("div",js,t(((E=u.approvalData)==null?void 0:E.approvel_1)||"-"),1),(A=u.approvalData)!=null&&A.approvel_1_date?(d(),p("div",qs,t(h(u.approvalData.approvel_1_date)),1)):w(1)?(d(),p("div",xs,t(f.value?"مرفوض":"Rejected"),1)):(d(),p("div",Fs,t(f.value?"قيد الانتظار":"Pending"),1))])],2),e("div",{class:j(["step-arrow",{"rtl-arrow":f.value}])},null,2),e("div",{class:j(["step-card",{approved:((x=u.approvalData)==null?void 0:x.approvel_2_date)&&!w(2),pending:!((k=u.approvalData)!=null&&k.approvel_2_date)&&!w(2),rejected:w(2),rtl:f.value,"greyed-out":D(2)}])},[e("div",Vs,[e("i",{class:j(w(2)?"fas fa-times-circle":"fas fa-file-invoice-dollar")},null,2)]),e("div",Bs,[e("div",Is,t(f.value?"مدير إدارة المالية":"Finance Director"),1),e("div",Ns,t(((v=u.approvalData)==null?void 0:v.approvel_2)||"-"),1),(_=u.approvalData)!=null&&_.approvel_2_date?(d(),p("div",Us,t(h(u.approvalData.approvel_2_date)),1)):!w(2)&&!D(2)?(d(),p("div",zs,t(f.value?"قيد الانتظار":"Pending"),1)):w(2)?(d(),p("div",Os,t(f.value?"مرفوض":"Rejected"),1)):F("",!0)])],2),e("div",{class:j(["step-arrow",{"rtl-arrow":f.value}])},null,2),e("div",{class:j(["step-card",{approved:((R=u.approvalData)==null?void 0:R.approvel_3_date)&&!w(3),pending:!((q=u.approvalData)!=null&&q.approvel_3_date)&&!w(3),rejected:w(3),rtl:f.value,"greyed-out":D(3)}])},[e("div",Ls,[e("i",{class:j(w(3)?"fas fa-times-circle":"fas fa-chart-line")},null,2)]),e("div",Js,[e("div",Hs,t(f.value?"المدير المالي التنفيذي":"CFO"),1),e("div",Ws,t(((z=u.approvalData)==null?void 0:z.approvel_3)||"-"),1),(N=u.approvalData)!=null&&N.approvel_3_date?(d(),p("div",Gs,t(h(u.approvalData.approvel_3_date)),1)):!w(3)&&!D(3)?(d(),p("div",Ks,t(f.value?"قيد الانتظار":"Pending"),1)):w(3)?(d(),p("div",Qs,t(f.value?"مرفوض":"Rejected"),1)):F("",!0)])],2),e("div",{class:j(["step-arrow",{"rtl-arrow":f.value}])},null,2),e("div",{class:j(["step-card",{approved:((G=u.approvalData)==null?void 0:G.approvel_4_date)&&!w(4),pending:!((K=u.approvalData)!=null&&K.approvel_4_date)&&!w(4),rejected:w(4),rtl:f.value,"greyed-out":D(4)}])},[e("div",Zs,[e("i",{class:j(w(4)?"fas fa-times-circle":"fas fa-check-double")},null,2)]),e("div",Ys,[e("div",Xs,t(f.value?"المدير العام":"General Manager"),1),e("div",en,t(((H=u.approvalData)==null?void 0:H.approvel_4)||"-"),1),(C=u.approvalData)!=null&&C.approvel_4_date?(d(),p("div",tn,t(h(u.approvalData.approvel_4_date)),1)):!w(4)&&!D(4)?(d(),p("div",an,t(f.value?"قيد الانتظار":"Pending"),1)):w(4)?(d(),p("div",on,t(f.value?"مرفوض":"Rejected"),1)):F("",!0)])],2)]))])],2)])):F("",!0)}}}),nn=se(sn,[["__scopeId","data-v-65c3060c"]]),ln={class:"rejection-modal-header"},rn={class:"rejection-modal-body"},un={key:0,class:"loading-container"},cn={key:1,class:"error-container"},dn={key:2,class:"no-reports"},vn={key:3,class:"reports-list"},pn={class:"report-header"},fn={class:"report-title"},_n={class:"report-number"},hn={class:"report-date"},mn={class:"report-content"},bn={class:"report-field"},yn={class:"field-label"},gn={class:"field-value"},$n={class:"report-field reason"},kn={class:"field-label"},wn={class:"reason-text"},Cn={class:"report-footer"},Dn={class:"transaction-id"},Rn=oe({__name:"RejectionReportModal",props:{show:{type:Boolean,default:!1},transactionId:{type:Number,default:0}},emits:["update:show"],setup(u,{emit:g}){const s=u,$=g,r=n([]),f=n(!1),i=n(""),S=ee(),w=T(()=>S.darkMode),D=T(()=>S.language==="ar");J(()=>s.show,async m=>{m&&s.transactionId&&await b()}),J(()=>s.transactionId,async m=>{s.show&&m&&await b()});function a(m){return m?new Date(m).toLocaleString():""}function h(){$("update:show",!1)}async function b(){if(s.transactionId){f.value=!0,i.value="",r.value=[];try{const m=await Ce.getRejectionReports(s.transactionId);r.value=m||[]}catch(m){i.value=D.value?"حدث خطأ أثناء تحميل تقارير الرفض":"An error occurred while loading rejection reports",console.error("Error loading rejection reports:",m)}finally{f.value=!1}}}return Ze(async()=>{s.show&&s.transactionId&&await b()}),(m,y)=>u.show?(d(),p("div",{key:0,class:"rejection-modal-overlay",onClick:h},[e("div",{class:j(["rejection-modal-container",{"dark-mode":w.value}]),onClick:y[0]||(y[0]=U(()=>{},["stop"]))},[e("div",ln,[e("h2",null,t(D.value?"تقارير الرفض":"Rejection Reports"),1),e("button",{class:"close-modal",onClick:h},y[1]||(y[1]=[e("span",{class:"close-icon"},"×",-1)]))]),e("div",rn,[f.value?(d(),p("div",un,[y[2]||(y[2]=e("div",{class:"loading-spinner"},null,-1)),e("p",null,t(D.value?"جاري التحميل...":"Loading..."),1)])):i.value?(d(),p("div",cn,[y[3]||(y[3]=e("div",{class:"error-icon"},"!",-1)),e("p",null,t(i.value),1)])):r.value.length===0?(d(),p("div",dn,[y[4]||(y[4]=e("div",{class:"info-icon"},"i",-1)),e("p",null,t(D.value?"لا توجد تقارير رفض":"No rejection reports found"),1)])):(d(),p("div",vn,[V(Et,{name:"fade",tag:"div"},{default:Ye(()=>[(d(!0),p(X,null,we(r.value,(M,E)=>(d(),p("div",{key:E,class:"report-card"},[e("div",pn,[e("div",fn,[y[5]||(y[5]=e("span",{class:"report-icon"},[e("svg",{xmlns:"http://www.w3.org/2000/svg",width:"18",height:"18",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"},[e("path",{d:"M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"}),e("polyline",{points:"14 2 14 8 20 8"}),e("line",{x1:"16",y1:"13",x2:"8",y2:"13"}),e("line",{x1:"16",y1:"17",x2:"8",y2:"17"}),e("polyline",{points:"10 9 9 9 8 9"})])],-1)),e("span",_n,t(D.value?"تقرير رفض":"Rejection Report")+" #"+t(E+1),1)]),e("div",hn,t(a(M.created_at)),1)]),e("div",mn,[e("div",bn,[e("span",yn,t(D.value?"رفض بواسطة":"Rejected by")+":",1),e("span",gn,t(M["rejected by"]),1)]),e("div",$n,[e("span",kn,t(D.value?"السبب":"Reason")+":",1),e("div",wn,t(M.reason_text),1)])]),e("div",Cn,[e("div",Dn,t(D.value?"رقم المعاملة":"Transaction ID")+": "+t(M.transaction_id),1)])]))),128))]),_:1})]))])],2)])):F("",!0)}}),Tn=se(Rn,[["__scopeId","data-v-8f9f49fb"]]),Mn={class:"modal-header"},Pn={class:"modal-body oracle-pipeline-body"},En={class:"waiting-for-erp"},An={class:"waiting-message"},Sn={class:"waiting-description"},jn=oe({__name:"OracleApprovalPipelineModal",props:{modelValue:{type:Boolean,default:!1}},emits:["update:modelValue"],setup(u,{emit:g}){const s=g,$=ee(),r=T(()=>$.language==="ar"),f=T(()=>$.darkMode);function i(){s("update:modelValue",!1)}return(S,w)=>u.modelValue?(d(),p("div",{key:0,class:"modal-overlay",onClick:i},[e("div",{class:j(["oracle-modal-container",{"dark-mode":f.value}]),onClick:w[0]||(w[0]=U(()=>{},["stop"]))},[e("div",Mn,[e("h2",null,t(r.value?"حالة نظام الأوراكل":"Oracle ERP Status"),1),e("button",{class:"close-modal",onClick:i},"×")]),e("div",Pn,[e("div",En,[w[1]||(w[1]=e("div",{class:"waiting-icon"},[e("i",{class:"fas fa-sync-alt fa-spin"})],-1)),e("div",An,t(r.value?"في انتظار الاتصال بنظام ERP...":"Waiting to connect to ERP..."),1),e("div",Sn,t(r.value?"جاري محاولة الاتصال بنظام أوراكل للمؤسسة":"Attempting to establish connection with Oracle Enterprise System"),1)])])],2)])):F("",!0)}}),qn=se(jn,[["__scopeId","data-v-c157c779"]]),W="http://127.0.0.1:8000",Fn="http://127.0.0.1:8000",xn="/api/budget/transfers/list/",Vn=6,Qe={async fetchTransfers(u="FAR",g="",s=1){const $=Z();if(!$.token)throw new Error("Authentication token not found");const r={page:s.toString(),page_size:Vn.toString()},f={Authorization:`Bearer ${$.token}`,Accept:"application/json","Content-Type":"application/json"},i=g.trim()?{code:u,search:g.trim()}:{code:u};try{return(await Q.post(`${Fn}${xn}`,i,{headers:f,params:r})).data}catch(S){throw console.error("Error fetching transfers:",S),S}},async deleteTransfer(u){const g=Z();if(!g.token)throw new Error("Authentication token not found");try{return(await Q.delete(`${W}/api/budget/transfers/${u}/delete/`,{headers:{Authorization:`Bearer ${g.token}`}})).data}catch(s){throw console.error("Error deleting transfer:",s),s}},async getTransferDetails(u){const g=Z();try{return(await Q.get(`${W}/api/budget/transfers/${u}/`,{headers:{Authorization:`Bearer ${g.token}`}})).data}catch(s){throw console.error("Error fetching transfer details:",s),s}},async submitTransferRequest(u){const g=Z();try{return(await Q.post(`${W}/api/budget/transfers/${u}/submit/`,{},{headers:{Authorization:`Bearer ${g.token}`}})).data}catch(s){throw console.error("Error submitting transfer request:",s),s}},async reopenTransferRequest(u){const g=Z();try{return(await Q.post(`${W}/api/budget/transfers/${u}/reopen/`,{},{headers:{Authorization:`Bearer ${g.token}`}})).data}catch(s){throw console.error("Error reopening transfer request:",s),s}},async generateReport(u){const g=Z();try{return(await Q.get(`${W}/api/budget/transfers/${u}/report/`,{headers:{Authorization:`Bearer ${g.token}`},responseType:"blob"})).data}catch(s){throw console.error("Error generating report:",s),s}},async createTransfer(u,g){const s=Z();try{const $=g.map(i=>({transaction:i.transaction,cost_center_code:i.cost_center_code,cost_center_name:i.cost_center_name,account_code:i.account_code,account_name:i.account_name,approved_budget:parseFloat(i.approved_budget)||0,available_budget:parseFloat(i.available_budget)||0,from_center:parseFloat(i.from_center)||0,to_center:parseFloat(i.to_center)||0,encumbrance:parseFloat(i.encumbrance)||0,actual:parseFloat(i.actual)||0,done:1}));let r;switch(u){case"AFR":r=`${W}/api/adjd-transfers/create/`;break;case"FAD":r=`${W}/api/fund-adj-transfers/create/`;break;case"FAR":default:r=`${W}/api/fund-transfers/create/`;break}return(await Q.post(r,$,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch($){throw console.error("Error creating transfer request:",$),$}},async uploadFile(u,g){const s=Z(),$=new FormData;$.append("file",u),$.append("transaction_id",g.toString());try{return(await Q.post(`${W}/api/budget/transfers/upload-file/`,$,{headers:{Authorization:`Bearer ${s.token}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error uploading file:",r),r}},async listFiles(u){const g=Z();try{return(await Q.get(`${W}/api/budget/transfers/${u}/files/`,{headers:{Authorization:`Bearer ${g.token}`}})).data}catch(s){throw console.error("Error listing files:",s),s}},async uploadExcelFile(u,g){const s=Z(),$=new FormData;$.append("file",u);try{return(await Q.post(`${W}/api/budget/transfers/${g}/upload-excel/`,$,{headers:{Authorization:`Bearer ${s.token}`,"Content-Type":"multipart/form-data"}})).data}catch(r){throw console.error("Error uploading Excel file:",r),r}},async getPivotFundDetails(u,g){const s=Z();try{return(await Q.get(`${W}/api/accounts-entities/pivot-funds/getdetail/?entity_id=${u}&account_id=${g}`,{headers:{Authorization:`Bearer ${s.token}`}})).data}catch($){throw(!$.response||$.response.status!==404)&&console.error("Error fetching pivot fund details:",$),$}},getTransfers(u){return Q.get(`${W}/api/budget/transfers/?transaction=${u}`)}},Bn=["dir"],In={class:"page-header glass-panel"},Nn={class:"header-left"},Un={class:"page-title"},zn={class:"page-subtitle"},On={class:"header-right"},Ln=["title"],Jn={class:"search-section glass-panel"},Hn={class:"search-container"},Wn={class:"search-input-wrapper"},Gn=["placeholder"],Kn={class:"table-container glass-panel"},Qn={key:0,class:"loading-state"},Zn={class:"loading-text"},Yn={key:1,class:"empty-state"},Xn={key:2,class:"modern-table-wrapper"},el={class:"modern-table"},tl={class:"table-header"},al={class:"th-actions"},ol={class:"th-code"},sl={class:"th-requested-by"},nl={class:"th-description"},ll={class:"th-request-date"},rl={class:"th-transaction-date"},il={class:"th-track"},ul={class:"th-status"},cl={class:"th-attachments"},dl={class:"td-actions"},vl={class:"action-buttons-group"},pl=["onClick","disabled","title"],fl=["onClick","disabled","title"],_l=["onClick","title"],hl={class:"td-code"},ml={class:"td-requested-by"},bl={class:"td-description"},yl=["onClick"],gl={class:"td-request-date"},$l={class:"td-transaction-date"},kl={class:"td-track"},wl={class:"td-status"},Cl=["onClick"],Dl={class:"td-attachments"},Rl=["onClick","title"],Tl={key:0,class:"pagination-wrapper glass-panel"},Ml={class:"pagination-info"},Pl={class:"pagination-text"},El={class:"pagination-controls"},Al=["disabled"],Sl=["disabled"],jl={class:"page-numbers"},ql=["onClick","disabled"],Fl=["disabled"],xl=["disabled"],Vl={class:"modal-header"},Bl={class:"modal-body"},Il={class:"modal-footer"},Nl={class:"modal-header"},Ul={class:"modal-body"},zl=["innerHTML"],Ol={class:"modal-footer"},Ll={class:"rejection-popup-header"},Jl={class:"rejection-popup-title"},Hl={class:"rejection-popup-body"},Wl={key:0,class:"rejection-details"},Gl={class:"rejection-meta"},Kl={class:"meta-label"},Ql={class:"meta-value"},Zl={class:"rejection-reason-content"},Yl={class:"reason-label"},Xl={class:"reason-text-container"},er={class:"reason-text-full"},tr={class:"rejection-popup-footer"},ar=oe({name:"UnifiedTransfersPage",__name:"UnifiedTransfers",setup(u){const g=At(),s=ee(),$=Nt(),r=T(()=>{switch(g.name){case"Home":return{pageType:"transfers",code:"FAR",newRequestComponent:Ke,editComponent:xe,cssClass:"home-page",title:"Transfers",subtitle:"Fund Adjustment Requests",searchPlaceholder:"Search transfers...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"};case"Enhancements":return{pageType:"enhancements",code:"AFR",newRequestComponent:Va,editComponent:xe,cssClass:"enhancements-page",title:"Enhancements",subtitle:"Additional Fund Requests",searchPlaceholder:"Search enhancements...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"};case"Settlements":return{pageType:"contracts",code:"FAD",newRequestComponent:ro,editComponent:ts,cssClass:"contract-page",title:"Settlements",subtitle:"Fund Adjustment Department",searchPlaceholder:"Search settlements...",showRejectionColumn:!1,detailRoute:"/contracts"};default:return{pageType:"transfers",code:"FAR",newRequestComponent:Ke,editComponent:xe,cssClass:"home-page",title:"Transfers",subtitle:"Fund Adjustment Requests",searchPlaceholder:"Search transfers...",showRejectionColumn:!1,detailRoute:"/cost-center-transfer"}}}),f=T(()=>r.value.cssClass),i=T(()=>{if(h.value)switch(g.name){case"Home":return"المناقلات";case"Enhancements":return"التعزيزات";case"Settlements":return"التسويات";default:return"المناقلات"}return r.value.title}),S=T(()=>{if(h.value)switch(g.name){case"Home":return"طلبات تعديل الميزانية";case"Enhancements":return"طلبات الأموال الإضافية";case"Settlements":return"قسم تعديل الأموال";default:return"طلبات تعديل الميزانية"}return r.value.subtitle}),w=T(()=>{if(h.value)switch(g.name){case"Home":return"البحث في المناقلات...";case"Enhancements":return"البحث في التعزيزات...";case"Settlements":return"البحث في التسويات...";default:return"البحث في المناقلات..."}return r.value.searchPlaceholder}),D=T(()=>r.value.newRequestComponent),a=T(()=>r.value.editComponent),h=T(()=>s.language==="ar"),b=T(()=>h.value?"طلب جديد":"New Request"),m=T(()=>h.value?`إنشاء ${i.value} جديد`:`Create New ${r.value.title}`),y=T(()=>h.value?"جاري التحميل...":"Loading..."),M=T(()=>h.value?"لا توجد بيانات":"No Data Available"),E=T(()=>h.value?`لا توجد ${i.value} متاحة`:`No ${r.value.title.toLowerCase()} available`),A=T(()=>h.value?"تأكيد الحذف":"Confirm Delete"),x=T(()=>h.value?"هل أنت متأكد من حذف هذا العنصر؟":"Are you sure you want to delete this item?"),k=T(()=>h.value?"إلغاء":"Cancel"),v=T(()=>h.value?"حذف":"Delete"),_=T(()=>h.value?"الوصف":"Description"),R=T(()=>h.value?"إغلاق":"Close"),q=T(()=>({actions:h.value?"الإجراءات":"Actions",code:h.value?"الرمز":"Code",requestedBy:h.value?"طلب بواسطة":"Requested By",description:h.value?"الوصف":"Description",requestDate:h.value?"تاريخ الطلب":"Request Date",transactionDate:h.value?"تاريخ المعاملة":"Transaction Date",track:h.value?"تتبع":"Track",status:h.value?"الحالة":"Status",attachments:h.value?"المرفقات":"Attachments",rejection:h.value?"الرفض":"Rejection"})),z=T(()=>{const o=(P.value-1)*6+1,l=Math.min(P.value*6,H.value);return h.value?`عرض ${o} إلى ${l} من ${H.value} عنصر`:`Showing ${o} to ${l} of ${H.value} items`}),N=n(!1),G=n(null),K=n([]),H=n(0),C=n(!1),I=n(!1),P=n(1),pe=n(6),ne=n(""),te=n(null),ae=n(!1),le=n(!1),Be=n(""),De=n(!1),Ie=n(null),be=n(!1),fe=n(null),Re=n(!1),Ne=n(0),Ue=n("pending"),Te=n(!1),ze=n(null),Me=n(!1),Oe=n(0),Pe=n(!1),Ee=n(!1),Le=n("info"),Je=n(""),ce=n(new Map),Ae=n(new Set),ye=n(!1),de=n(null),ge=n(""),ie=T(()=>H.value===0?1:Math.ceil(H.value/pe.value)),Xe=T(()=>{const o=[],l=ie.value,B=P.value;if(l<=7)for(let c=1;c<=l;c++)o.push(c);else if(B<=4){for(let c=1;c<=5;c++)o.push(c);l>6&&o.push(-1),o.push(l)}else if(B>=l-3){o.push(1),l>6&&o.push(-1);for(let c=l-4;c<=l;c++)o.push(c)}else{o.push(1),o.push(-1);for(let c=B-1;c<=B+1;c++)o.push(c);o.push(-1),o.push(l)}return o});function et(o){if(!o)return"";try{return new Date(o).toLocaleDateString("en-GB")}catch{return o}}function tt(o){return o?o.replace(/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,""):""}function at(o){const l=o.toLowerCase();return{"row-pending":l==="pending","row-approved":l==="approved","row-rejected":l==="rejected","row-submitted":l==="submitted"}}function ot(o){const l=r.value.detailRoute,B=r.value.pageType==="enhancements"?{source:"EnhancementsPage"}:{};return{path:`${l}/${o.transaction_id}`,query:B}}function st(o){return!o.attachment_count||o.attachment_count===0?h.value?"لا توجد مرفقات":"No attachments":h.value?`${o.attachment_count} مرفق(ات)`:`${o.attachment_count} attachment(s)`}function $e(o){return o.status.toLowerCase()==="rejected"}function Y(o){return!o.approvel_1&&!o.approvel_2&&!o.approvel_3&&!o.approvel_4&&!o.approvel_1_date&&!o.approvel_2_date&&!o.approvel_3_date&&!o.approvel_4_date&&o.status_level===1}function nt(o){r.value.pageType==="enhancements"&&$.setNavigationSource("EnhancementsPage",{transactionId:o.transaction_id,code:o.code})}async function He(o){if(ce.value.has(o))return ce.value.get(o)||"";if(Ae.value.has(o))return"";try{Ae.value.add(o);const l=await Ce.getRejectionReports(o);if(l&&l.length>0){const B=l[l.length-1],c=B.rejection_reason||B.reason_text||(h.value?"لا يوجد سبب محدد":"No specific reason provided");return ce.value.set(o,c),c}else{const B=h.value?"لا يوجد تقرير رفض":"No rejection report available";return ce.value.set(o,B),B}}catch(l){console.error("Error fetching rejection reason:",l);const B=h.value?"خطأ في تحميل سبب الرفض":"Error loading rejection reason";return ce.value.set(o,B),B}finally{Ae.value.delete(o)}}async function O(){try{N.value=!0;const o=await Qe.fetchTransfers(r.value.code,ne.value,P.value);o&&o.results?(G.value=o,K.value=Array.isArray(o.results)?o.results:o.results.results||[],H.value=o.count||0,C.value=!!o.next,I.value=!!o.previous,K.value.filter(B=>$e(B)).forEach(B=>{ce.value.has(B.transaction_id)||He(B.transaction_id)})):(K.value=[],H.value=0)}catch(o){console.error("Error fetching data:",o),qe("error","Failed to load data"),K.value=[],H.value=0}finally{N.value=!1}}function lt(){te.value&&clearTimeout(te.value),te.value=setTimeout(()=>{P.value=1,O()},500)}function rt(){ne.value="",P.value=1,O()}function it(){P.value<ie.value&&(P.value++,O())}function ut(){P.value>1&&(P.value--,O())}function ct(){P.value!==1&&(P.value=1,O())}function dt(){P.value!==ie.value&&(P.value=ie.value,O())}function vt(o){o!==-1&&o!==P.value&&o>=1&&o<=ie.value&&(P.value=o,O())}function pt(o){Be.value=o.description_x||o.notes||"",le.value=!0}function Se(){le.value=!1}function ft(o){Ie.value=o,De.value=!0}function _t(o){Y(o)&&(fe.value=o,be.value=!0)}function je(){be.value=!1,fe.value=null}function ht(){fe.value&&(N.value=!0,be.value=!1,Qe.deleteTransfer(fe.value.transaction_id).then(()=>{qe("success","Item deleted successfully"),O()}).catch(o=>{console.error("Error deleting item:",o),qe("error","Failed to delete item")}).finally(()=>{N.value=!1,fe.value=null}))}function mt(o){Ne.value=o.transaction_id,Ue.value=Y(o)?"waiting-to-submit":o.status,Re.value=!0}function bt(o){ze.value=o,Te.value=!0}function yt(o){$e(o)&&(Oe.value=o.transaction_id,Me.value=!0)}function gt(){Pe.value=!0}async function $t(o){if($e(o)){de.value=o;try{const l=await He(o.transaction_id);ge.value=l,ye.value=!0}catch(l){console.error("Error loading rejection reason:",l),ge.value=h.value?"خطأ في تحميل سبب الرفض":"Error loading rejection reason",ye.value=!0}}}function ke(){ye.value=!1,de.value=null,ge.value=""}function kt(){de.value&&(yt(de.value),ke())}function wt(){ae.value=!0}function Ct(o){console.log("New request submitted:",o),O()}function Dt(o){console.log("Item updated:",o),O()}function Rt(){O()}function qe(o,l){Le.value=o,Je.value=l,Ee.value=!0}function Tt(o){o.target.classList.add("search-focused")}function Mt(o){o.target.classList.remove("search-focused")}function Pt(){}return Ze(()=>{O()}),St(()=>{te.value&&(clearTimeout(te.value),te.value=null),document.querySelectorAll(".unified-page *").forEach(l=>{const B=l;B.style.animation="none"})}),J(()=>g.name,()=>{P.value=1,ne.value="",O()}),J(()=>s.darkMode,()=>{}),(o,l)=>{const B=xt("router-link");return d(),p("div",{class:j(["unified-page",[f.value,{"dark-theme":L(s).darkMode}]]),dir:h.value?"rtl":"ltr"},[l[22]||(l[22]=e("div",{class:"background-effects"},[e("div",{class:"floating-orb orb-1"}),e("div",{class:"floating-orb orb-2"})],-1)),e("div",In,[e("div",Nn,[e("h1",Un,t(i.value),1),e("p",zn,t(S.value),1)]),e("div",On,[e("button",{class:"btn-primary",onClick:wt,title:m.value},[e("span",null,t(b.value),1)],8,Ln)])]),e("div",Jn,[e("div",Hn,[e("div",Wn,[ve(e("input",{"onUpdate:modelValue":l[0]||(l[0]=c=>ne.value=c),type:"text",class:"search-input",placeholder:w.value,onInput:lt,onFocus:Tt,onBlur:Mt},null,40,Gn),[[jt,ne.value]]),ne.value?(d(),p("button",{key:0,class:"clear-search",onClick:rt},l[12]||(l[12]=[e("span",null,"×",-1)]))):F("",!0)]),e("div",{class:"search-actions"},[l[14]||(l[14]=e("button",{class:"btn-filter",title:"Advanced Filters"},[e("span",null,"Filters")],-1)),e("button",{class:"btn-refresh",onClick:O,title:"Refresh Data"},l[13]||(l[13]=[e("span",null,"⟳",-1)]))])])]),e("div",Kn,[N.value?(d(),p("div",Qn,[l[15]||(l[15]=qt('<div class="loading-container" data-v-eb57e4d6><div class="loading-spinner-enhanced" data-v-eb57e4d6><div class="spinner-ring ring-1" data-v-eb57e4d6></div><div class="spinner-ring ring-2" data-v-eb57e4d6></div><div class="loading-core" data-v-eb57e4d6><div class="core-dot" data-v-eb57e4d6></div></div></div><div class="loading-dots" data-v-eb57e4d6><span class="dot dot-1" data-v-eb57e4d6></span><span class="dot dot-2" data-v-eb57e4d6></span><span class="dot dot-3" data-v-eb57e4d6></span></div></div>',1)),e("p",Zn,t(y.value),1),l[16]||(l[16]=e("div",{class:"loading-progress"},[e("div",{class:"progress-bar"})],-1))])):K.value.length===0?(d(),p("div",Yn,[l[17]||(l[17]=e("div",{class:"empty-icon"},"📋",-1)),e("h3",null,t(M.value),1),e("p",null,t(E.value),1)])):F("",!0),N.value?F("",!0):(d(),p("div",Xn,[e("table",el,[e("thead",null,[e("tr",tl,[e("th",al,t(q.value.actions),1),e("th",ol,t(q.value.code),1),e("th",sl,t(q.value.requestedBy),1),e("th",nl,t(q.value.description),1),e("th",ll,t(q.value.requestDate),1),e("th",rl,t(q.value.transactionDate),1),e("th",il,t(q.value.track),1),e("th",ul,t(q.value.status),1),e("th",cl,t(q.value.attachments),1)])]),e("tbody",null,[(d(!0),p(X,null,we(K.value,c=>(d(),p("tr",{key:c.transaction_id,class:j(["table-row",at(c.status)]),onMouseenter:Pt},[e("td",dl,[e("div",vl,[e("button",{class:j(["action-btn edit-btn",{disabled:!Y(c)}]),onClick:re=>Y(c)?ft(c):null,disabled:!Y(c),title:Y(c)?"Edit":"Cannot edit after submission"},[V(L(Ut),{size:16})],10,pl),e("button",{class:j(["action-btn delete-btn",{disabled:!Y(c)}]),onClick:re=>Y(c)?_t(c):null,disabled:!Y(c),title:Y(c)?"Delete":"Cannot delete after submission"},[V(L(zt),{size:16})],10,fl),$e(c)?(d(),p("button",{key:0,class:"action-btn rejection-icon-btn",onClick:re=>$t(c),title:h.value?"عرض سبب الرفض":"View rejection reason"},l[18]||(l[18]=[e("span",{class:"rejection-icon-small"},"⚠",-1)]),8,_l)):F("",!0)])]),e("td",hl,[V(B,{to:ot(c),class:"code-link",onClick:re=>nt(c)},{default:Ye(()=>[Ft(t(c.code),1)]),_:2},1032,["to","onClick"])]),e("td",ml,t(c.requested_by),1),e("td",bl,[e("button",{class:"description-btn",onClick:re=>pt(c),title:"View full description"},[V(L(Vt),{size:16})],8,yl)]),e("td",gl,t(et(c.request_date)),1),e("td",$l,t(c.transaction_date),1),e("td",kl,[e("button",{class:"track-btn",onClick:l[1]||(l[1]=re=>gt())},"Track")]),e("td",wl,[e("span",{class:j(["status-badge","status-"+c.status.toLowerCase()]),onClick:re=>bt(c),role:"button"},t(c.status),11,Cl)]),e("td",Dl,[e("button",{class:"attachment-btn",onClick:re=>mt(c),title:st(c)}," Attachments ",8,Rl)])],34))),128))])])]))]),!N.value&&K.value.length>0?(d(),p("div",Tl,[e("div",Ml,[e("span",Pl,t(z.value),1),l[19]||(l[19]=e("div",{class:"items-per-page"},null,-1))]),e("div",El,[e("button",{class:"pagination-btn pagination-btn-first",onClick:ct,disabled:P.value===1,title:"First Page"}," ⟪ ",8,Al),e("button",{class:"pagination-btn pagination-btn-prev",onClick:ut,disabled:P.value===1,title:"Previous Page"}," ⟨ ",8,Sl),e("div",jl,[(d(!0),p(X,null,we(Xe.value,c=>(d(),p("button",{key:c,class:j(["pagination-btn page-number",{active:c===P.value,ellipsis:c===-1}]),onClick:re=>vt(c),disabled:c===-1},t(c===-1?"...":c),11,ql))),128))]),e("button",{class:"pagination-btn pagination-btn-next",onClick:it,disabled:P.value>=ie.value,title:"Next Page"}," ⟩ ",8,Fl),e("button",{class:"pagination-btn pagination-btn-last",onClick:dt,disabled:P.value>=ie.value,title:"Last Page"}," ⟫ ",8,xl)])])):F("",!0),(d(),Fe(We(D.value),{modelValue:ae.value,"onUpdate:modelValue":l[2]||(l[2]=c=>ae.value=c),onSubmit:Ct},null,40,["modelValue"])),(d(),Fe(We(a.value),{modelValue:De.value,"onUpdate:modelValue":l[3]||(l[3]=c=>De.value=c),"transfer-data":Ie.value,onSubmit:Dt},null,40,["modelValue","transfer-data"])),V(Cs,{show:Re.value,"onUpdate:show":l[4]||(l[4]=c=>Re.value=c),transactionId:Ne.value,status:Ue.value,onFilesUpdated:Rt},null,8,["show","transactionId","status"]),V(nn,{modelValue:Te.value,"onUpdate:modelValue":l[5]||(l[5]=c=>Te.value=c),"approval-data":ze.value},null,8,["modelValue","approval-data"]),V(Tn,{modelValue:Me.value,"onUpdate:modelValue":l[6]||(l[6]=c=>Me.value=c),transactionId:Oe.value},null,8,["modelValue","transactionId"]),V(qn,{modelValue:Pe.value,"onUpdate:modelValue":l[7]||(l[7]=c=>Pe.value=c)},null,8,["modelValue"]),V(ue,{modelValue:Ee.value,"onUpdate:modelValue":l[8]||(l[8]=c=>Ee.value=c),type:Le.value,message:Je.value,timer:3e3},null,8,["modelValue","type","message"]),be.value?(d(),p("div",{key:1,class:"modal-overlay",onClick:je},[e("div",{class:"modal-container delete-modal",onClick:l[9]||(l[9]=U(()=>{},["stop"]))},[e("div",Vl,[e("h3",null,t(A.value),1),e("button",{class:"close-modal",onClick:je},"×")]),e("div",Bl,[e("p",null,t(x.value),1)]),e("div",Il,[e("button",{class:"btn-secondary",onClick:je},t(k.value),1),e("button",{class:"btn-danger",onClick:ht},t(v.value),1)])])])):F("",!0),le.value?(d(),p("div",{key:2,class:"modal-overlay",onClick:Se},[e("div",{class:"modal-container desc-modal",onClick:l[10]||(l[10]=U(()=>{},["stop"]))},[e("div",Nl,[e("h3",null,t(_.value),1),e("button",{class:"close-modal",onClick:Se},"×")]),e("div",Ul,[e("div",{class:"description-content",innerHTML:tt(Be.value)},null,8,zl)]),e("div",Ol,[e("button",{class:"btn-secondary",onClick:Se},t(R.value),1)])])])):F("",!0),(d(),Fe(Bt,{to:"body"},[ye.value?(d(),p("div",{key:0,class:"rejection-popup-overlay",onClick:ke},[e("div",{class:"rejection-popup-container",onClick:l[11]||(l[11]=U(()=>{},["stop"]))},[e("div",Ll,[e("div",Jl,[l[20]||(l[20]=e("span",{class:"rejection-popup-icon"},"⚠",-1)),e("h3",null,t(h.value?"سبب الرفض":"Rejection Reason"),1)]),e("button",{class:"rejection-popup-close",onClick:ke},l[21]||(l[21]=[e("span",null,"×",-1)]))]),e("div",Hl,[de.value?(d(),p("div",Wl,[e("div",Gl,[e("span",Kl,t(h.value?"رقم المعاملة:":"Transaction:"),1),e("span",Ql,t(de.value.code),1)]),e("div",Zl,[e("p",Yl,t(h.value?"السبب:":"Reason:"),1),e("div",Xl,[e("p",er,t(ge.value),1)])])])):F("",!0)]),e("div",tr,[e("button",{class:"btn-popup-close",onClick:ke},t(h.value?"إغلاق":"Close"),1),e("button",{class:"btn-popup-details",onClick:kt},t(h.value?"عرض التفاصيل الكاملة":"View Full Details"),1)])])])):F("",!0)]))],10,Bn)}}}),rr=se(ar,[["__scopeId","data-v-eb57e4d6"]]);export{rr as default};
