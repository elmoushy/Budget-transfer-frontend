import{d as ge,u as we,B as ee,r as i,o as be,s as k,e as r,f as e,h as d,k as I,t,n as V,b as c,v as y,H as S,F as C,G as L,D as ne,I as N,l as U,m as b,i as g,O,q as n,y as fe}from"./index-Cgy_Usry.js";import{S as P,T as re}from"./trash-BiQaUqs8.js";const ke=["dir"],ye={class:"page-header glass-panel"},Ce={class:"header-left"},Le={class:"page-title"},Ue={class:"page-subtitle"},xe={class:"tabs-container glass-panel"},Me={key:1,class:"tab-content"},Ee={class:"search-section glass-panel"},Be={class:"search-container"},Ve={class:"search-input-wrapper"},Se=["placeholder"],Ne={class:"search-actions"},je={value:""},Ae={value:"admin"},He={value:"user"},$e={value:""},De={value:"None"},Te=["value"],Ze=["disabled"],qe={key:0,class:"loading-spinner"},Fe={class:"table-container glass-panel"},ze={key:0,class:"loading-state"},Re={class:"loading-text"},Ie={key:1,class:"empty-state"},Oe={key:2,class:"modern-table-wrapper"},Pe={class:"table-summary"},Ge={class:"user-count"},Qe={class:"modern-table"},Je={class:"table-header"},Ke={class:"th-username"},We={class:"th-role"},Xe={class:"th-level"},Ye={class:"th-actions"},es={class:"td-username"},ss={class:"td-role"},ts={class:"td-level"},os={class:"td-actions"},ls={class:"action-buttons-group"},as=["onClick"],ns=["onClick"],rs={key:2,class:"tab-content"},is={class:"table-container glass-panel"},ds={key:0,class:"loading-state"},us={class:"loading-text"},cs={key:1,class:"empty-state"},vs={key:2,class:"modern-table-wrapper"},ps={class:"table-summary"},hs={class:"user-count"},ms={class:"modern-table"},_s={class:"table-header"},gs={class:"th-name"},ws={class:"th-description"},bs={class:"th-order"},fs={class:"th-actions"},ks={class:"td-name"},ys={class:"level-name"},Cs={class:"td-description"},Ls={class:"level-description"},Us={class:"td-order"},xs={class:"order-badge"},Ms={class:"td-actions"},Es={class:"action-buttons-group"},Bs=["onClick"],Vs={class:"btn-text"},Ss={key:3,class:"tab-content"},Ns={class:"assignments-layout"},js={class:"assignment-form-card glass-panel"},As={class:"card-header"},Hs={class:"card-title"},$s={class:"card-subtitle"},Ds={class:"form-group"},Ts={for:"user-select",class:"form-label"},Zs={value:"",disabled:""},qs=["value"],Fs={class:"form-group"},zs={for:"level-select",class:"form-label"},Rs={value:"",disabled:""},Is=["value"],Os={type:"submit",class:"btn-primary assignment-submit-btn"},Ps={class:"levels-overview-card glass-panel"},Gs={class:"card-header"},Qs={class:"card-title"},Js={class:"card-subtitle"},Ks={class:"levels-overview-content"},Ws={class:"level-overview-header"},Xs={class:"level-info"},Ys={class:"level-title"},et={class:"level-order-indicator"},st={class:"level-stats"},tt={class:"user-count-badge"},ot={class:"count-label"},lt={class:"users-grid"},at={class:"user-avatar"},nt={class:"user-name"},rt={key:0,class:"no-users-message"},it={class:"empty-text"},dt={key:0,class:"empty-levels-state"},ut={class:"modal-content"},ct={class:"modal-header"},vt={class:"modal-title-container"},pt={class:"modal-title"},ht={class:"modal-body"},mt={class:"form-field"},_t={for:"username",class:"form-label"},gt={class:"input-wrapper"},wt=["placeholder"],bt={class:"form-field"},ft={for:"password",class:"form-label"},kt={class:"input-wrapper"},yt=["placeholder"],Ct={class:"form-field"},Lt={for:"role",class:"form-label"},Ut={class:"select-wrapper"},xt={value:"admin"},Mt={value:"user"},Et={class:"modal-footer"},Bt={class:"modal-content"},Vt={class:"modal-header"},St={class:"modal-title-container"},Nt={class:"modal-icon edit-icon"},jt={class:"modal-title"},At={class:"modal-body"},Ht={class:"form-field"},$t={for:"edit-username",class:"form-label"},Dt={class:"input-wrapper"},Tt=["placeholder"],Zt={class:"form-field"},qt={for:"edit-role",class:"form-label"},Ft={class:"select-wrapper"},zt={value:"admin"},Rt={value:"user"},It={class:"modal-footer"},Ot={class:"modal-content"},Pt={class:"modal-header"},Gt={class:"modal-title-container"},Qt={class:"modal-icon edit-icon"},Jt={class:"modal-title"},Kt={class:"modal-body"},Wt={class:"form-field"},Xt={for:"edit-level-name",class:"form-label"},Yt={class:"input-wrapper"},eo=["placeholder"],so={class:"form-field"},to={for:"edit-level-description",class:"form-label"},oo={class:"textarea-wrapper"},lo=["placeholder"],ao={class:"form-field"},no={for:"edit-level-order",class:"form-label"},ro={class:"input-wrapper"},io=["placeholder"],uo={class:"modal-footer"},co={class:"modal-content"},vo={class:"modal-header"},po={class:"modal-title-container"},ho={class:"modal-title"},mo={class:"modal-body"},_o={class:"delete-confirmation-content"},go={class:"delete-message"},wo={class:"delete-warning"},bo={class:"modal-footer"},fo={class:"btn-icon"},ko=ge({__name:"UserManagement",setup(yo){const G=we(),o=ee(()=>G.language==="ar");ee(()=>G.darkMode);const h=i("users"),x=i([]),M=i(!0),p=i([]),E=i(!0),j=i(""),A=i(""),B=i(""),D=i(""),H=i(""),T=i(!1),Z=i(!1),q=i(!1),F=i(!1),m=i({username:"",password:"",role:"user"}),_=i({id:null,username:"",role:""}),v=i({id:null,name:"",description:"",level_order:0}),f=i(null),z=i(""),se=i(!0);be(async()=>{await te()});async function te(){try{await Promise.all([$(),Q()]),u("Data refreshed successfully")}catch(a){console.error("Error refreshing data:",a),u("Error refreshing data",!1)}}async function $(){try{M.value=!0;const a=await k.auth.getUsers();x.value=a}catch(a){console.error("Error fetching users:",a),u("Error fetching users",!1)}finally{M.value=!1}}async function Q(){try{E.value=!0;const a=await k.auth.getUserLevels();p.value=a,p.value.sort((s,l)=>s.level_order-l.level_order)}catch(a){console.error("Error fetching user levels:",a),u("Error fetching user levels",!1)}finally{E.value=!1}}function u(a,s=!0){z.value=a,se.value=s,setTimeout(()=>{z.value=""},3e3)}async function oe(){try{await k.auth.registerUser(m.value),m.value={username:"",password:"",role:"user"},T.value=!1,await $(),u("User added successfully")}catch(a){console.error("Error adding user:",a),u("Error adding user",!1)}}function ie(a){_.value={id:a.id,username:a.username,role:a.role},Z.value=!0}async function le(){try{await k.auth.updateUser(_.value.id,{username:_.value.username,role:_.value.role}),Z.value=!1,await $(),u("User updated successfully")}catch(a){console.error("Error updating user:",a),u("Error updating user",!1)}}function de(a){f.value={id:a.id,username:a.username},q.value=!0}async function ue(){if(f.value)try{await k.auth.deleteUser(f.value.id),q.value=!1,f.value=null,await $(),u("User deleted successfully")}catch(a){console.error("Error deleting user:",a),u("Error deleting user",!1)}}function ce(a){v.value={id:a.id,name:a.name,description:a.description,level_order:a.level_order},F.value=!0}async function ae(){try{await k.auth.updateUserLevel(v.value.id,{name:v.value.name,description:v.value.description,level_order:v.value.level_order}),F.value=!1,await Q(),u("Level updated successfully")}catch(a){console.error("Error updating level:",a),u("Error updating level",!1)}}async function ve(){if(!(!j.value||!A.value))try{await k.auth.assignUserLevel(j.value,A.value),j.value="",A.value="",await Promise.all([$(),Q()]),u("User level assigned successfully")}catch(a){console.error("Error assigning user level:",a),u("Error assigning user level",!1)}}function J(a){return x.value.filter(s=>s.user_level===a)}const R=ee(()=>x.value.filter(a=>{const s=B.value===""||a.username.toLowerCase().includes(B.value.toLowerCase()),l=D.value===""||a.role===D.value,w=H.value===""||H.value==="None"&&a.user_level==="None"||a.user_level===H.value;return s&&l&&w}));function pe(){}function he(){B.value=""}function me(a){a.target.classList.add("search-focused")}function _e(a){a.target.classList.remove("search-focused")}function K(){T.value=!1,m.value={username:"",password:"",role:"user"}}function W(){Z.value=!1,_.value={id:null,username:"",role:""}}function X(){F.value=!1,v.value={id:null,name:"",description:"",level_order:0}}function Y(){q.value=!1,f.value=null}return(a,s)=>(n(),r("div",{class:V(["unified-page user-management-page",{"dark-theme":U(G).darkMode}]),dir:o.value?"rtl":"ltr"},[s[60]||(s[60]=e("div",{class:"background-effects"},[e("div",{class:"floating-orb orb-1"}),e("div",{class:"floating-orb orb-2"})],-1)),e("div",ye,[e("div",Ce,[e("h1",Le,t(o.value?"إدارة المستخدمين":"User Management"),1),e("p",Ue,t(o.value?"إدارة المستخدمين والأذونات":"Manage Users and Permissions"),1)])]),z.value?(n(),r("div",{key:0,class:V(["feedback-message glass-panel",se.value?"success":"error"])},t(z.value),3)):d("",!0),e("div",xe,[e("button",{class:V(["tab-btn",{active:h.value==="users"}]),onClick:s[0]||(s[0]=l=>h.value="users")},t(o.value?"المستخدمين":"Users"),3),e("button",{class:V(["tab-btn",{active:h.value==="levels"}]),onClick:s[1]||(s[1]=l=>h.value="levels")},t(o.value?"المستويات":"User Levels"),3),e("button",{class:V(["tab-btn",{active:h.value==="assignments"}]),onClick:s[2]||(s[2]=l=>h.value="assignments")},t(o.value?"التعيينات":"Level Assignments"),3)]),h.value==="users"?(n(),r("div",Me,[e("div",Ee,[e("div",Be,[e("div",Ve,[c(e("input",{"onUpdate:modelValue":s[3]||(s[3]=l=>B.value=l),type:"text",class:"search-input",placeholder:o.value?"بحث عن مستخدم...":"Search users...",onInput:pe,onFocus:me,onBlur:_e},null,40,Se),[[y,B.value]]),B.value?(n(),r("button",{key:0,class:"clear-search",onClick:he},s[21]||(s[21]=[e("span",null,"×",-1)]))):d("",!0)]),e("div",Ne,[c(e("select",{"onUpdate:modelValue":s[4]||(s[4]=l=>D.value=l),class:"filter-select"},[e("option",je,t(o.value?"جميع الأدوار":"All Roles"),1),e("option",Ae,t(o.value?"مدير":"Admin"),1),e("option",He,t(o.value?"مستخدم":"User"),1)],512),[[S,D.value]]),c(e("select",{"onUpdate:modelValue":s[5]||(s[5]=l=>H.value=l),class:"filter-select"},[e("option",$e,t(o.value?"جميع المستويات":"All Levels"),1),e("option",De,t(o.value?"بدون مستوى":"No Level"),1),(n(!0),r(C,null,L(p.value,l=>(n(),r("option",{key:l.id,value:l.name},t(l.name),9,Te))),128))],512),[[S,H.value]]),e("button",{class:"btn-refresh",onClick:te,disabled:M.value||E.value},[e("span",null,t(o.value?"تحديث":"Refresh"),1),M.value||E.value?(n(),r("span",qe)):d("",!0)],8,Ze),e("button",{class:"btn-primary",onClick:s[6]||(s[6]=l=>T.value=!0)},[e("span",null,t(o.value?"إضافة مستخدم جديد":"Add New User"),1)])])])]),e("div",Fe,[M.value?(n(),r("div",ze,[s[22]||(s[22]=ne('<div class="loading-container" data-v-1914ae56><div class="loading-spinner-enhanced" data-v-1914ae56><div class="spinner-ring ring-1" data-v-1914ae56></div><div class="spinner-ring ring-2" data-v-1914ae56></div><div class="loading-core" data-v-1914ae56><div class="core-dot" data-v-1914ae56></div></div></div><div class="loading-dots" data-v-1914ae56><span class="dot dot-1" data-v-1914ae56></span><span class="dot dot-2" data-v-1914ae56></span><span class="dot dot-3" data-v-1914ae56></span></div></div>',1)),e("p",Re,t(o.value?"جاري التحميل...":"Loading..."),1),s[23]||(s[23]=e("div",{class:"loading-progress"},[e("div",{class:"progress-bar"})],-1))])):R.value.length===0?(n(),r("div",Ie,[s[24]||(s[24]=e("div",{class:"empty-icon"},"👥",-1)),e("h3",null,t(o.value?"لا توجد مستخدمين":"No Users Found"),1),e("p",null,t(o.value?"لا توجد نتائج مطابقة":"No matching results found"),1)])):d("",!0),M.value?d("",!0):(n(),r("div",Oe,[e("div",Pe,[e("span",Ge,t(o.value?`إجمالي: ${R.value.length} من ${x.value.length} مستخدم`:`Total: ${R.value.length} of ${x.value.length} users`),1)]),e("table",Qe,[e("thead",null,[e("tr",Je,[e("th",Ke,t(o.value?"اسم المستخدم":"Username"),1),e("th",We,t(o.value?"الدور":"Role"),1),e("th",Xe,t(o.value?"المستوى":"User Level"),1),e("th",Ye,t(o.value?"الإجراءات":"Actions"),1)])]),e("tbody",null,[(n(!0),r(C,null,L(R.value,l=>(n(),r("tr",{key:l.id,class:"table-row"},[e("td",es,t(l.username),1),e("td",ss,[e("span",{class:V(["role-badge","status-"+l.role])},t(l.role),3)]),e("td",ts,t(l.user_level!=="None"?l.user_level:"-"),1),e("td",os,[e("div",ls,[e("button",{class:"action-btn edit-btn",onClick:w=>ie(l)},[N(U(P),{size:16})],8,as),e("button",{class:"action-btn delete-btn",onClick:w=>de(l)},[N(U(re),{size:16})],8,ns)])])]))),128))])])]))])])):d("",!0),h.value==="levels"?(n(),r("div",rs,[e("div",is,[E.value?(n(),r("div",ds,[s[25]||(s[25]=ne('<div class="loading-container" data-v-1914ae56><div class="loading-spinner-enhanced" data-v-1914ae56><div class="spinner-ring ring-1" data-v-1914ae56></div><div class="spinner-ring ring-2" data-v-1914ae56></div><div class="loading-core" data-v-1914ae56><div class="core-dot" data-v-1914ae56></div></div></div><div class="loading-dots" data-v-1914ae56><span class="dot dot-1" data-v-1914ae56></span><span class="dot dot-2" data-v-1914ae56></span><span class="dot dot-3" data-v-1914ae56></span></div></div>',1)),e("p",us,t(o.value?"جاري التحميل...":"Loading..."),1),s[26]||(s[26]=e("div",{class:"loading-progress"},[e("div",{class:"progress-bar"})],-1))])):p.value.length===0?(n(),r("div",cs,[s[27]||(s[27]=e("div",{class:"empty-icon"},"📊",-1)),e("h3",null,t(o.value?"لا توجد مستويات":"No Levels Found"),1),e("p",null,t(o.value?"لا توجد مستويات مستخدمين متاحة":"No user levels available"),1)])):d("",!0),E.value?d("",!0):(n(),r("div",vs,[e("div",ps,[e("span",hs,t(o.value?`إجمالي: ${p.value.length} مستوى`:`Total: ${p.value.length} levels`),1)]),e("table",ms,[e("thead",null,[e("tr",_s,[e("th",gs,t(o.value?"الاسم":"Name"),1),e("th",ws,t(o.value?"الوصف":"Description"),1),e("th",bs,t(o.value?"الترتيب":"Order"),1),e("th",fs,t(o.value?"الإجراءات":"Actions"),1)])]),e("tbody",null,[(n(!0),r(C,null,L(p.value,l=>(n(),r("tr",{key:l.id,class:"table-row"},[e("td",ks,[e("span",ys,t(l.name),1)]),e("td",Cs,[e("span",Ls,t(l.description),1)]),e("td",Us,[e("span",xs,t(l.level_order),1)]),e("td",Ms,[e("div",Es,[e("button",{class:"action-btn edit-btn",onClick:w=>ce(l)},[N(U(P),{size:16}),e("span",Vs,t(o.value?"تعديل":"Edit"),1)],8,Bs)])])]))),128))])])]))])])):d("",!0),h.value==="assignments"?(n(),r("div",Ss,[e("div",Ns,[e("div",js,[e("div",As,[e("h3",Hs,t(o.value?"تعيين مستوى للمستخدم":"Assign User Level"),1),e("p",$s,t(o.value?"تعيين مستوى جديد للمستخدم":"Assign a new level to a user"),1)]),e("form",{onSubmit:b(ve,["prevent"]),class:"assignment-form"},[e("div",Ds,[e("label",Ts,t(o.value?"المستخدم":"User"),1),c(e("select",{id:"user-select","onUpdate:modelValue":s[7]||(s[7]=l=>j.value=l),required:"",class:"form-select"},[e("option",Zs,t(o.value?"اختر مستخدمًا":"Select a user"),1),(n(!0),r(C,null,L(x.value,l=>(n(),r("option",{key:l.id,value:l.id},t(l.username)+" ("+t(l.user_level!=="None"?l.user_level:o.value?"غير معين":"Not assigned")+") ",9,qs))),128))],512),[[S,j.value]])]),e("div",Fs,[e("label",zs,t(o.value?"المستوى":"Level"),1),c(e("select",{id:"level-select","onUpdate:modelValue":s[8]||(s[8]=l=>A.value=l),required:"",class:"form-select"},[e("option",Rs,t(o.value?"اختر مستوى":"Select a level"),1),(n(!0),r(C,null,L(p.value,l=>(n(),r("option",{key:l.id,value:l.level_order},t(l.name)+" ("+t(o.value?"الترتيب":"Order")+": "+t(l.level_order)+") ",9,Is))),128))],512),[[S,A.value]])]),e("button",Os,[e("span",null,t(o.value?"تعيين":"Assign"),1)])],32)]),e("div",Ps,[e("div",Gs,[e("h3",Qs,t(o.value?"المستخدمين حسب المستوى":"Users by Level"),1),e("p",Js,t(o.value?"توزيع المستخدمين على المستويات":"User distribution across levels"),1)]),e("div",Ks,[(n(!0),r(C,null,L(p.value,l=>(n(),r("div",{key:l.id,class:"level-overview-item"},[e("div",Ws,[e("div",Xs,[e("h4",Ys,t(l.name),1),e("span",et,t(o.value?"ترتيب":"Order")+" "+t(l.level_order),1)]),e("div",st,[e("span",tt,[g(t(J(l.name).length)+" ",1),e("span",ot,t(o.value?"مستخدم":"users"),1)])])]),e("div",lt,[(n(!0),r(C,null,L(J(l.name),w=>(n(),r("div",{key:w.id,class:"user-chip"},[e("span",at,t(w.username.charAt(0).toUpperCase()),1),e("span",nt,t(w.username),1)]))),128)),J(l.name).length===0?(n(),r("div",rt,[s[28]||(s[28]=e("span",{class:"empty-icon"},"👤",-1)),e("span",it,t(o.value?"لا يوجد مستخدمين":"No users assigned"),1)])):d("",!0)])]))),128)),p.value.length===0?(n(),r("div",dt,[s[29]||(s[29]=e("div",{class:"empty-icon"},"📊",-1)),e("h4",null,t(o.value?"لا توجد مستويات":"No Levels Available"),1),e("p",null,t(o.value?"لا توجد مستويات مستخدمين لعرضها":"No user levels to display"),1)])):d("",!0)])])])])):d("",!0),(n(),I(O,{to:"body"},[T.value?(n(),r("div",{key:0,class:"modal-overlay",onClick:K},[e("div",{class:"modal-container modern-modal",onClick:s[12]||(s[12]=b(()=>{},["stop"]))},[s[39]||(s[39]=e("div",{class:"modal-backdrop-blur"},null,-1)),e("div",ut,[e("div",ct,[e("div",vt,[s[30]||(s[30]=e("div",{class:"modal-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M16 7C16 9.20914 14.2091 11 12 11C9.79086 11 8 9.20914 8 7C8 4.79086 9.79086 3 12 3C14.2091 3 16 4.79086 16 7Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M12 14C8.13401 14 5 17.134 5 21H19C19 17.134 15.866 14 12 14Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("h2",pt,t(o.value?"إضافة مستخدم جديد":"Add New User"),1)]),e("button",{class:"modal-close-btn",onClick:K,type:"button"},s[31]||(s[31]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",ht,[e("form",{onSubmit:b(oe,["prevent"]),class:"modern-form"},[e("div",mt,[e("label",_t,[s[32]||(s[32]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M8 10C5.79086 10 4 11.7909 4 14H12C12 11.7909 10.2091 10 8 10Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"اسم المستخدم":"Username"),1)]),e("div",gt,[c(e("input",{type:"text",id:"username","onUpdate:modelValue":s[9]||(s[9]=l=>m.value.username=l),required:"",class:"form-input",placeholder:o.value?"أدخل اسم المستخدم":"Enter username",autocomplete:"username"},null,8,wt),[[y,m.value.username]]),s[33]||(s[33]=e("div",{class:"input-focus-border"},null,-1))])]),e("div",bt,[e("label",ft,[s[34]||(s[34]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("rect",{x:"3",y:"7",width:"10",height:"7",rx:"1",stroke:"currentColor","stroke-width":"1.5"}),e("path",{d:"M5 7V5C5 3.34315 6.34315 2 8 2C9.65685 2 11 3.34315 11 5V7",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round"})])],-1)),g(" "+t(o.value?"كلمة المرور":"Password"),1)]),e("div",kt,[c(e("input",{type:"password",id:"password","onUpdate:modelValue":s[10]||(s[10]=l=>m.value.password=l),required:"",class:"form-input",placeholder:o.value?"أدخل كلمة المرور":"Enter password",autocomplete:"new-password"},null,8,yt),[[y,m.value.password]]),s[35]||(s[35]=e("div",{class:"input-focus-border"},null,-1))])]),e("div",Ct,[e("label",Lt,[s[36]||(s[36]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 1L10.5 5.5L15.5 6L11.75 9.5L12.5 14.5L8 12L3.5 14.5L4.25 9.5L0.5 6L5.5 5.5L8 1Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"الدور":"Role"),1)]),e("div",Ut,[c(e("select",{id:"role","onUpdate:modelValue":s[11]||(s[11]=l=>m.value.role=l),required:"",class:"form-select"},[e("option",xt,t(o.value?"مدير":"Admin"),1),e("option",Mt,t(o.value?"مستخدم":"User"),1)],512),[[S,m.value.role]]),s[37]||(s[37]=e("div",{class:"input-focus-border"},null,-1))])])],32)]),e("div",Et,[e("button",{type:"button",onClick:K,class:"btn-secondary modern-btn"},[e("span",null,t(o.value?"إلغاء":"Cancel"),1)]),e("button",{type:"submit",onClick:oe,class:"btn-primary modern-btn submit-btn"},[s[38]||(s[38]=e("span",{class:"btn-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 3V13M3 8H13",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("span",null,t(o.value?"إضافة":"Add User"),1)])])])])])):d("",!0)])),(n(),I(O,{to:"body"},[Z.value?(n(),r("div",{key:0,class:"modal-overlay",onClick:W},[e("div",{class:"modal-container modern-modal",onClick:s[15]||(s[15]=b(()=>{},["stop"]))},[s[47]||(s[47]=e("div",{class:"modal-backdrop-blur"},null,-1)),e("div",Bt,[e("div",Vt,[e("div",St,[e("div",Nt,[N(U(P),{size:20})]),e("h2",jt,t(o.value?"تعديل المستخدم":"Edit User"),1)]),e("button",{class:"modal-close-btn",onClick:W,type:"button"},s[40]||(s[40]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",At,[e("form",{onSubmit:b(le,["prevent"]),class:"modern-form"},[e("div",Ht,[e("label",$t,[s[41]||(s[41]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 8C9.65685 8 11 6.65685 11 5C11 3.34315 9.65685 2 8 2C6.34315 2 5 3.34315 5 5C5 6.65685 6.34315 8 8 8Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M8 10C5.79086 10 4 11.7909 4 14H12C12 11.7909 10.2091 10 8 10Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"اسم المستخدم":"Username"),1)]),e("div",Dt,[c(e("input",{type:"text",id:"edit-username","onUpdate:modelValue":s[13]||(s[13]=l=>_.value.username=l),required:"",class:"form-input",placeholder:o.value?"أدخل اسم المستخدم":"Enter username"},null,8,Tt),[[y,_.value.username]]),s[42]||(s[42]=e("div",{class:"input-focus-border"},null,-1))])]),e("div",Zt,[e("label",qt,[s[43]||(s[43]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 1L10.5 5.5L15.5 6L11.75 9.5L12.5 14.5L8 12L3.5 14.5L4.25 9.5L0.5 6L5.5 5.5L8 1Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"الدور":"Role"),1)]),e("div",Ft,[c(e("select",{id:"edit-role","onUpdate:modelValue":s[14]||(s[14]=l=>_.value.role=l),required:"",class:"form-select"},[e("option",zt,t(o.value?"مدير":"Admin"),1),e("option",Rt,t(o.value?"مستخدم":"User"),1)],512),[[S,_.value.role]]),s[44]||(s[44]=e("div",{class:"select-arrow"},[e("svg",{width:"12",height:"12",viewBox:"0 0 12 12",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M3 4.5L6 7.5L9 4.5",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),s[45]||(s[45]=e("div",{class:"input-focus-border"},null,-1))])])],32)]),e("div",It,[e("button",{type:"button",onClick:W,class:"btn-secondary modern-btn"},[e("span",null,t(o.value?"إلغاء":"Cancel"),1)]),e("button",{type:"submit",onClick:le,class:"btn-primary modern-btn submit-btn"},[s[46]||(s[46]=e("span",{class:"btn-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13.5 2.5L8.5 7.5L6 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("span",null,t(o.value?"حفظ":"Save Changes"),1)])])])])])):d("",!0)])),(n(),I(O,{to:"body"},[F.value?(n(),r("div",{key:0,class:"modal-overlay",onClick:X},[e("div",{class:"modal-container modern-modal",onClick:s[19]||(s[19]=b(()=>{},["stop"]))},[s[56]||(s[56]=e("div",{class:"modal-backdrop-blur"},null,-1)),e("div",Ot,[e("div",Pt,[e("div",Gt,[e("div",Qt,[N(U(P),{size:20})]),e("h2",Jt,t(o.value?"تعديل المستوى":"Edit Level"),1)]),e("button",{class:"modal-close-btn",onClick:X,type:"button"},s[48]||(s[48]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",Kt,[e("form",{onSubmit:b(ae,["prevent"]),class:"modern-form"},[e("div",Wt,[e("label",Xt,[s[49]||(s[49]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M3 3H13V13H3V3Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5 7H11M5 9H11",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"الاسم":"Name"),1)]),e("div",Yt,[c(e("input",{type:"text",id:"edit-level-name","onUpdate:modelValue":s[16]||(s[16]=l=>v.value.name=l),required:"",class:"form-input",placeholder:o.value?"أدخل اسم المستوى":"Enter level name"},null,8,eo),[[y,v.value.name]]),s[50]||(s[50]=e("div",{class:"input-focus-border"},null,-1))])]),e("div",so,[e("label",to,[s[51]||(s[51]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M3 3H13V13H3V3Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"}),e("path",{d:"M5 5H11M5 7H11M5 9H8",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"الوصف":"Description"),1)]),e("div",oo,[c(e("textarea",{id:"edit-level-description","onUpdate:modelValue":s[17]||(s[17]=l=>v.value.description=l),rows:"3",class:"form-textarea",placeholder:o.value?"أدخل وصف المستوى":"Enter level description"},null,8,lo),[[y,v.value.description]]),s[52]||(s[52]=e("div",{class:"input-focus-border"},null,-1))])]),e("div",ao,[e("label",no,[s[53]||(s[53]=e("span",{class:"label-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M8 1L10.5 5.5L15.5 6L11.75 9.5L12.5 14.5L8 12L3.5 14.5L4.25 9.5L0.5 6L5.5 5.5L8 1Z",stroke:"currentColor","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),g(" "+t(o.value?"الترتيب":"Order"),1)]),e("div",ro,[c(e("input",{type:"number",id:"edit-level-order","onUpdate:modelValue":s[18]||(s[18]=l=>v.value.level_order=l),class:"form-input",placeholder:o.value?"أدخل ترتيب المستوى":"Enter level order",min:"1"},null,8,io),[[y,v.value.level_order]]),s[54]||(s[54]=e("div",{class:"input-focus-border"},null,-1))])])],32)]),e("div",uo,[e("button",{type:"button",onClick:X,class:"btn-secondary modern-btn"},[e("span",null,t(o.value?"إلغاء":"Cancel"),1)]),e("button",{type:"submit",onClick:ae,class:"btn-primary modern-btn submit-btn"},[s[55]||(s[55]=e("span",{class:"btn-icon"},[e("svg",{width:"16",height:"16",viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M13.5 2.5L8.5 7.5L6 5",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("span",null,t(o.value?"حفظ":"Save Changes"),1)])])])])])):d("",!0)])),(n(),I(O,{to:"body"},[q.value?(n(),r("div",{key:0,class:"modal-overlay",onClick:Y},[e("div",{class:"modal-container modern-modal delete-modal",onClick:s[20]||(s[20]=b(()=>{},["stop"]))},[s[59]||(s[59]=e("div",{class:"modal-backdrop-blur"},null,-1)),e("div",co,[e("div",vo,[e("div",po,[s[57]||(s[57]=e("div",{class:"modal-icon danger-icon"},[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M12 9V13M12 17H12.01M21 12C21 16.9706 16.9706 21 12 21C7.02944 21 3 16.9706 3 12C3 7.02944 7.02944 3 12 3C16.9706 3 21 7.02944 21 12Z",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})])],-1)),e("h2",ho,t(o.value?"تأكيد الحذف":"Confirm Delete"),1)]),e("button",{class:"modal-close-btn",onClick:Y,type:"button"},s[58]||(s[58]=[e("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M15 5L5 15M5 5L15 15",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]))]),e("div",mo,[e("div",_o,[e("p",go,t(o.value?`هل أنت متأكد من أنك تريد حذف المستخدم "${f.value?.username}"؟`:`Are you sure you want to delete user "${f.value?.username}"?`),1),e("p",wo,t(o.value?"هذا الإجراء لا يمكن التراجع عنه.":"This action cannot be undone."),1)])]),e("div",bo,[e("button",{type:"button",onClick:Y,class:"btn-secondary modern-btn"},[e("span",null,t(o.value?"إلغاء":"Cancel"),1)]),e("button",{type:"button",onClick:ue,class:"btn-danger modern-btn"},[e("span",fo,[N(U(re),{size:16})]),e("span",null,t(o.value?"حذف":"Delete"),1)])])])])])):d("",!0)]))],10,ke))}}),Uo=fe(ko,[["__scopeId","data-v-1914ae56"]]);export{Uo as default};
